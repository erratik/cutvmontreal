/* WPVR SELECTIZE MINIFIED SCRIPTS */
!function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=i(String(e||"").toLowerCase()),!e||!e.length)return[];var t,n,r,a,l=[],u=e.split(/ +/);for(t=0,n=u.length;n>t;t++){if(r=o(u[t]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(r=r.replace(new RegExp(a,"g"),s[a]));l.push({string:u[t],regex:new RegExp(r,"i")})}return l},e.prototype.iterator=function(e,t){var n;n=r(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,i,o,r;n=this,e=n.prepareSearch(e,t),o=e.tokens,i=e.options.fields,r=o.length;var s=function(e,t){var n,i;return e?(e=String(e||""),i=e.search(t.regex),-1===i?0:(n=t.string.length/e.length,0===i&&(n+=.5),n)):0},a=function(){var e=i.length;return e?1===e?function(e,t){return s(t[i[0]],e)}:function(t,n){for(var o=0,r=0;e>o;o++)r+=s(n[i[o]],t);return r/e}:function(){return 0}}();return r?1===r?function(e){return a(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;r>n;n++){if(t=a(o[n],e),0>=t)return 0;i+=t}return i/r}:function(e){for(var t=0,n=0;r>t;t++)n+=a(o[t],e);return n/r}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var i,o,r,s,a,l,u,p,c,d,h;if(r=this,e=r.prepareSearch(e,n),h=!e.query&&n.sort_empty||n.sort,c=function(e,t){return"$score"===e?t.score:r.items[t.id][e]},a=[],h)for(i=0,o=h.length;o>i;i++)(e.query||"$score"!==h[i].field)&&a.push(h[i]);if(e.query){for(d=!0,i=0,o=a.length;o>i;i++)if("$score"===a[i].field){d=!1;break}d&&a.unshift({field:"$score",direction:"desc"})}else for(i=0,o=a.length;o>i;i++)if("$score"===a[i].field){a.splice(i,1);break}for(p=[],i=0,o=a.length;o>i;i++)p.push("desc"===a[i].direction?-1:1);return l=a.length,l?1===l?(s=a[0].field,u=p[0],function(e,n){return u*t(c(s,e),c(s,n))}):function(e,n){var i,o,r;for(i=0;l>i;i++)if(r=a[i].field,o=p[i]*t(c(r,e),c(r,n)))return o;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var i=t.fields,o=t.sort,s=t.sort_empty;return i&&!r(i)&&(t.fields=[i]),o&&!r(o)&&(t.sort=[o]),s&&!r(s)&&(t.sort_empty=[s]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,o,r,s=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,r=t.score||s.getScoreFunction(i),e.length?s.iterator(s.items,function(e,o){n=r(e),(t.filter===!1||n>0)&&i.items.push({score:n,id:o})}):s.iterator(s.items,function(e,t){i.items.push({score:1,id:t})}),o=s.getSortFunction(i,t),o&&i.items.sort(o),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:t>e?-1:0:(e=a(String(e||"")),t=a(String(t||"")),e>t?1:t>e?-1:0)},n=function(e){var t,n,i,o;for(t=1,n=arguments.length;n>t;t++)if(o=arguments[t])for(i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e},i=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[aÀÁÂÃÄÅàáâãäåAaaA]",c:"[cÇçcCcC]",d:"[ddÐdD]",e:"[eÈÉÊËèéêëeEEeeE]",i:"[iÌÍÎÏìíîïIi]",l:"[llL]",n:"[nÑñnNnN]",o:"[oÒÓÔÕÕÖØòóôõöøOo]",r:"[rrR]",s:"[sŠšsS]",t:"[ttT]",u:"[uÙÚÛÜùúûüuUUu]",y:"[yŸÿýÝ]",z:"[zŽžzZzZ]"},a=function(){var e,t,n,i,o="",r={};for(n in s)if(s.hasOwnProperty(n))for(i=s[n].substring(2,s[n].length-1),o+=i,e=0,t=i.length;t>e;e++)r[i.charAt(e)]=n;var a=new RegExp("["+o+"]","g");return function(e){return e.replace(a,function(e){return r[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;i>n;n++)"string"==typeof e[n]?s.push(e[n]):(r.plugins.settings[e[n].name]=e[n].options,s.push(e[n].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(r.plugins.settings[o]=e[o],s.push(o));for(;s.length;)r.require(s.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=o.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(n);if(o>=0&&e.data.length>0){var r=e.data.match(n),s=document.createElement("span");s.className="highlight";var a=e.splitText(o),l=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var u=0;u<e.childNodes.length;++u)u+=i(e.childNodes[u]);return t};return e.each(function(){i(this)})}},o=function(){};o.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=o.prototype[t[n]]};var r=/Mac/.test(navigator.userAgent),s=65,a=13,l=27,u=37,p=38,c=80,d=39,h=40,g=78,f=8,v=46,m=16,y=r?91:17,w=r?18:17,O=9,$=1,C=2,b=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,x=function(e){return"undefined"!=typeof e},S=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},I=function(e){return(e+"").replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},_=function(e){return(e+"").replace(/\$/g,"$$$$")},F={};F.before=function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},F.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}};var D=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},A=function(e,t){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,o)},t)}},k=function(e,t,n){var i,o=e.trigger,r={};e.trigger=function(){var n=arguments[0];return-1===t.indexOf(n)?o.apply(e,arguments):void(r[n]=arguments)},n.apply(e,[]),e.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(e,r[i])},P=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})},z=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},T=function(e,t,n){var i,o,r={};if(n)for(i=0,o=n.length;o>i;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)},j=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");T(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},q=function(e){var t=null,n=function(n,i){var o,r,s,a,l,u,p,c;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||e.data("grow")!==!1)&&(o=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&122>=r||r>=65&&90>=r||r>=48&&57>=r||32===r,r===v||r===f?(c=z(e[0]),c.length?o=o.substring(0,c.start)+o.substring(c.start+c.length):r===f&&c.start?o=o.substring(0,c.start-1)+o.substring(c.start+1):r===v&&"undefined"!=typeof c.start&&(o=o.substring(0,c.start)+o.substring(c.start+1))):s&&(u=n.shiftKey,p=String.fromCharCode(n.keyCode),p=u?p.toUpperCase():p.toLowerCase(),o+=p)),a=e.attr("placeholder"),!o&&a&&(o=a),l=j(o,e)+4,l!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},E=function(n,i){var o,r,s,a,l=this;a=n[0],a.selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=u?u.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?$:C,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++E.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:A(l.onSearchChange,i.loadThrottle)}),l.sifter=new t(this.options,{diacritics:i.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;r>o;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;r>o;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(E),n.mixin(E),e.extend(E.prototype,{setup:function(){var t,n,i,o,s,a,l,u,p,c=this,d=c.settings,h=c.eventNS,g=e(window),f=e(document),v=c.$input;if(l=c.settings.mode,u=v.attr("class")||"",t=e("<div>").addClass(d.wrapperClass).addClass(u).addClass(l),n=e("<div>").addClass(d.inputClass).addClass("items").appendTo(t),i=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",v.is(":disabled")?"-1":c.tabIndex),a=e(d.dropdownParent||t),o=e("<div>").addClass(d.dropdownClass).addClass(l).hide().appendTo(a),s=e("<div>").addClass(d.dropdownContentClass).appendTo(o),c.settings.copyClassesToDropdown&&o.addClass(u),t.css({width:v[0].style.width}),c.plugins.names.length&&(p="plugin-"+c.plugins.names.join(" plugin-"),t.addClass(p),o.addClass(p)),(null===d.maxItems||d.maxItems>1)&&c.tagType===$&&v.attr("multiple","multiple"),c.settings.placeholder&&i.attr("placeholder",d.placeholder),!c.settings.splitOn&&c.settings.delimiter){var O=c.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");c.settings.splitOn=new RegExp("\\s*"+O+"+\\s*")}v.attr("autocorrect")&&i.attr("autocorrect",v.attr("autocorrect")),v.attr("autocapitalize")&&i.attr("autocapitalize",v.attr("autocapitalize")),c.$wrapper=t,c.$control=n,c.$control_input=i,c.$dropdown=o,c.$dropdown_content=s,o.on("mouseenter","[data-selectable]",function(){return c.onOptionHover.apply(c,arguments)}),o.on("mousedown click","[data-selectable]",function(){return c.onOptionSelect.apply(c,arguments)}),P(n,"mousedown","*:not(input)",function(){return c.onItemSelect.apply(c,arguments)}),q(i),n.on({mousedown:function(){return c.onMouseDown.apply(c,arguments)},click:function(){return c.onClick.apply(c,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return c.onKeyDown.apply(c,arguments)},keyup:function(){return c.onKeyUp.apply(c,arguments)},keypress:function(){return c.onKeyPress.apply(c,arguments)},resize:function(){c.positionDropdown.apply(c,[])},blur:function(){return c.onBlur.apply(c,arguments)},focus:function(){return c.ignoreBlur=!1,c.onFocus.apply(c,arguments)},paste:function(){return c.onPaste.apply(c,arguments)}}),f.on("keydown"+h,function(e){c.isCmdDown=e[r?"metaKey":"ctrlKey"],c.isCtrlDown=e[r?"altKey":"ctrlKey"],c.isShiftDown=e.shiftKey}),f.on("keyup"+h,function(e){e.keyCode===w&&(c.isCtrlDown=!1),e.keyCode===m&&(c.isShiftDown=!1),e.keyCode===y&&(c.isCmdDown=!1)}),f.on("mousedown"+h,function(e){if(c.isFocused){if(e.target===c.$dropdown[0]||e.target.parentNode===c.$dropdown[0])return!1;c.$control.has(e.target).length||e.target===c.$control[0]||c.blur(e.target)}}),g.on(["scroll"+h,"resize"+h].join(" "),function(){c.isOpen&&c.positionDropdown.apply(c,arguments)}),g.on("mousemove"+h,function(){c.ignoreHover=!1}),this.revertSettings={$children:v.children().detach(),tabindex:v.attr("tabindex")},v.attr("tabindex",-1).hide().after(c.$wrapper),e.isArray(d.items)&&(c.setValue(d.items),delete d.items),b&&v.on("invalid"+h,function(e){e.preventDefault(),c.isInvalid=!0,c.refreshState()}),c.updateOriginalInput(),c.refreshItems(),c.refreshState(),c.updatePlaceholder(),c.isSetup=!0,v.is(":disabled")&&c.disable(),c.on("change",this.onChange),v.data("selectize",c),v.addClass("selectized"),c.trigger("initialize"),d.preload===!0&&c.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){{var n=this,i=t.isDefaultPrevented();e(t.target)}if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),i=0,o=t.length;o>i;i++)n.createItem(t[i])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)return void(e.keyCode!==O&&e.preventDefault());switch(e.keyCode){case s:if(t.isCmdDown)return void t.selectAll();break;case l:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case g:if(!e.ctrlKey||e.altKey)break;case h:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case c:if(!e.ctrlKey||e.altKey)break;case p:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case a:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case u:return void t.advanceSelection(-1,e);case d:return void t.advanceSelection(1,e);case O:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case f:case v:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(r?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this,n=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,o=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),i=e(t.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&o.setActiveOption(o.getOption(n))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,n=t.val()!==e;n&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===$&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var n=t?[]:["change"];k(this,n,function(){this.clear(),this.addItems(e,t)})},setActiveItem:function(t,n){var i,o,r,s,a,l,u,p,c=this;if("single"!==c.settings.mode){if(t=e(t),!t.length)return e(c.$activeItems).removeClass("active"),c.$activeItems=[],void(c.isFocused&&c.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&c.isShiftDown&&c.$activeItems.length){for(p=c.$control.children(".active:last"),s=Array.prototype.indexOf.apply(c.$control[0].childNodes,[p[0]]),a=Array.prototype.indexOf.apply(c.$control[0].childNodes,[t[0]]),s>a&&(u=s,s=a,a=u),o=s;a>=o;o++)l=c.$control[0].childNodes[o],-1===c.$activeItems.indexOf(l)&&(e(l).addClass("active"),c.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&c.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(r=c.$activeItems.indexOf(t[0]),c.$activeItems.splice(r,1),t.removeClass("active")):c.$activeItems.push(t.addClass("active")[0]):(e(c.$activeItems).removeClass("active"),c.$activeItems=[t.addClass("active")[0]]);c.hideInput(),this.isFocused||c.focus()}},setActiveOption:function(t,n,i){var o,r,s,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,t=e(t),t.length&&(u.$activeOption=t.addClass("active"),(n||!x(n))&&(o=u.$dropdown_content.height(),r=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,a=s,l=s-o+r,s+r>o+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):n>s&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&(o=r.settings.score.apply(this,[t]),"function"!=typeof o))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(r.lastQuery=t,i=r.sifter.search(t,e.extend(a,{score:o})),r.currentResults=i):i=e.extend(!0,{},r.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(S(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(t){var n,o,r,s,a,l,u,p,c,d,h,g,f,v,m,y;"undefined"==typeof t&&(t=!0);var w=this,O=e.trim(w.$control_input.val()),$=w.search(O),C=w.$dropdown_content,b=w.$activeOption&&S(w.$activeOption.attr("data-value"));for(s=$.items.length,"number"==typeof w.settings.maxOptions&&(s=Math.min(s,w.settings.maxOptions)),a={},l=[],n=0;s>n;n++)for(u=w.options[$.items[n].id],p=w.render("option",u),c=u[w.settings.optgroupField]||"",d=e.isArray(c)?c:[c],o=0,r=d&&d.length;r>o;o++)c=d[o],w.optgroups.hasOwnProperty(c)||(c=""),a.hasOwnProperty(c)||(a[c]=[],l.push(c)),a[c].push(p);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){var n=w.optgroups[e].$order||0,i=w.optgroups[t].$order||0;return n-i}),h=[],n=0,s=l.length;s>n;n++)c=l[n],w.optgroups.hasOwnProperty(c)&&a[c].length?(g=w.render("optgroup_header",w.optgroups[c])||"",g+=a[c].join(""),h.push(w.render("optgroup",e.extend({},w.optgroups[c],{html:g})))):h.push(a[c].join(""));if(C.html(h.join("")),w.settings.highlight&&$.query.length&&$.tokens.length)for(n=0,s=$.tokens.length;s>n;n++)i(C,$.tokens[n].regex);if(!w.settings.hideSelected)for(n=0,s=w.items.length;s>n;n++)w.getOption(w.items[n]).addClass("selected");f=w.canCreate(O),f&&(C.prepend(w.render("option_create",{input:O})),y=e(C[0].childNodes[0])),w.hasOptions=$.items.length>0||f,w.hasOptions?($.items.length>0?(m=b&&w.getOption(b),m&&m.length?v=m:"single"===w.settings.mode&&w.items.length&&(v=w.getOption(w.items[0])),v&&v.length||(v=y&&!w.settings.addPrecedence?w.getAdjacentOption(y,1):C.find("[data-selectable]:first"))):v=y,w.setActiveOption(v),t&&!w.isOpen&&w.open()):(w.setActiveOption(null),t&&w.isOpen&&w.close())},addOption:function(t){var n,i,o,r=this;if(e.isArray(t))for(n=0,i=t.length;i>n;n++)r.addOption(t[n]);else(o=r.registerOption(t))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,t))},registerOption:function(e){var t=S(e[this.settings.valueField]);return!t||this.options.hasOwnProperty(t)?!1:(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=S(e[this.settings.optgroupValueField]);return t?(e.$order=e.$order||++this.order,this.optgroups[t]=e,t):!1},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,o,r,s,a,l,u,p=this;if(t=S(t),r=S(n[p.settings.valueField]),null!==t&&p.options.hasOwnProperty(t)){if("string"!=typeof r)throw new Error("Value must be set in option data");u=p.options[t].$order,r!==t&&(delete p.options[t],s=p.items.indexOf(t),-1!==s&&p.items.splice(s,1,r)),n.$order=n.$order||u,p.options[r]=n,a=p.renderCache.item,l=p.renderCache.option,a&&(delete a[t],delete a[r]),l&&(delete l[t],delete l[r]),-1!==p.items.indexOf(r)&&(i=p.getItem(t),o=e(p.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),p.lastQuery=null,p.isOpen&&p.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=S(e);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[e],o&&delete o[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},getElementWithValue:function(t,n){if(t=S(t),"undefined"!=typeof t&&null!==t)for(var i=0,o=n.length;o>i;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],o=0,r=i.length;r>o;o++)this.isPending=r-1>o,this.addItem(i[o],n)},addItem:function(t,n){var i=n?[]:["change"];k(this,i,function(){var i,o,r,s,a,l=this,u=l.settings.mode;return t=S(t),-1!==l.items.indexOf(t)?void("single"===u&&l.close()):void(l.options.hasOwnProperty(t)&&("single"===u&&l.clear(),"multi"===u&&l.isFull()||(i=e(l.render("item",l.options[t])),a=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(t),s=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==u),s&&l.setActiveOption(l.getOption(s))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,i),l.updateOriginalInput({silent:n})))))})},removeItem:function(e,t){var n,i,o,r=this;n="object"==typeof e?e:r.getItem(e),e=S(n.attr("data-value")),i=r.items.indexOf(e),-1!==i&&(n.remove(),n.hasClass("active")&&(o=r.$activeItems.indexOf(n[0]),r.$activeItems.splice(o,1)),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,t),i<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:t}),r.positionDropdown(),r.trigger("item_remove",e,n))},createItem:function(t,n){var i=this,o=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},a=D(function(e){if(i.unlock(),!e||"object"!=typeof e)return r();var t=S(e[i.settings.valueField]);return"string"!=typeof t?r():(i.setTextboxValue(""),i.addOption(e),i.setCaret(o),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),void r(e))}),l=s.apply(this,[t,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,o,r=this;if(e=e||{},r.tagType===$){for(i=[],t=0,n=r.items.length;n>t;t++)o=r.options[r.items[t]][r.settings.labelField]||"",i.push('<option value="'+I(r.items[t])+'" selected="selected">'+I(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,i,o,r,s,a,l,u,p,c=this;if(o=t&&t.keyCode===f?-1:1,r=z(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(l=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),s=[],c.$activeItems.length){for(p=c.$control.children(".active:"+(o>0?"last":"first")),a=c.$control.children(":not(input)").index(p),o>0&&a++,n=0,i=c.$activeItems.length;i>n;n++)s.push(e(c.$activeItems[n]).attr("data-value"));
t&&(t.preventDefault(),t.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(0>o&&0===r.start&&0===r.length?s.push(c.items[c.caretPos-1]):o>0&&r.start===c.$control_input.val().length&&s.push(c.items[c.caretPos]));if(!s.length||"function"==typeof c.settings.onDelete&&c.settings.onDelete.apply(c,[s])===!1)return!1;for("undefined"!=typeof a&&c.setCaret(a);s.length;)c.removeItem(s.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),l&&(u=c.getOption(l),u.length&&c.setActiveOption(u)),!0},advanceSelection:function(e,t){var n,i,o,r,s,a,l=this;0!==e&&(l.rtl&&(e*=-1),n=e>0?"last":"first",i=z(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,s=0>e?0===i.start&&0===i.length:i.start===r,s&&!r&&l.advanceCaret(e,t)):(a=l.$control.children(".active:"+n),a.length&&(o=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(e>0?o+1:o))))},advanceCaret:function(e,t){var n,i,o=this;0!==e&&(n=e>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),t&&t.preventDefault())):o.setCaret(o.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var i,o,r,s;for(r=n.$control.children(":not(input)"),i=0,o=r.length;o>i;i++)s=e(r[i]).detach(),t>i?n.$control_input.before(s):n.$control.append(s)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,i,o="",r=!1,s=this,a=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===e||"item"===e)&&(n=S(t[s.settings.valueField]),r=!!n),r&&(x(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(n))?s.renderCache[e][n]:(o=s.settings.render[e].apply(this,[t,I]),("option"===e||"option_create"===e)&&(o=o.replace(a,"<$1 data-selectable")),"optgroup"===e&&(i=t[s.settings.optgroupValueField]||"",o=o.replace(a,'<$1 data-group="'+_(I(i))+'"')),("option"===e||"item"===e)&&(o=o.replace(a,'<$1 data-value="'+_(I(n||""))+'"')),r&&(s.renderCache[e][n]=o),o)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return!(!e.length||"function"==typeof n&&!n.apply(t,[e])||"string"==typeof n&&!new RegExp(n).test(e)||n instanceof RegExp&&!n.test(e))}}),E.count=0,E.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,p={},c=function(t,n){var a,l,u,p,c=t.attr(o);if(c)for(n.options=JSON.parse(c),a=0,l=n.options.length;l>a;a++)n.items.push(n.options[a][s]);else{var d=e.trim(t.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(u=d.split(i.delimiter),a=0,l=u.length;l>a;a++)p={},p[r]=u[a],p[s]=u[a],n.options.push(p);n.items=u}},d=function(t,n){var c,d,h,g,f=n.options,v=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},m=function(t,o){t=e(t);var l=S(t.attr("value"));if(l||i.allowEmptyOption)if(p.hasOwnProperty(l)){if(o){var u=p[l][a];u?e.isArray(u)?u.push(o):p[l][a]=[u,o]:p[l][a]=o}}else{var c=v(t)||{};c[r]=c[r]||t.text(),c[s]=c[s]||l,c[a]=c[a]||o,p[l]=c,f.push(c),t.is(":selected")&&n.items.push(l)}},y=function(t){var i,o,r,s,a;for(t=e(t),r=t.attr("label"),r&&(s=v(t)||{},s[l]=r,s[u]=r,n.optgroups.push(s)),a=e("option",t),i=0,o=a.length;o>i;i++)m(a[i],r)};for(n.maxItems=t.attr("multiple")?null:1,g=t.children(),c=0,d=g.length;d>c;c++)h=g[c].tagName.toLowerCase(),"optgroup"===h?y(g[c]):"option"===h&&m(g[c])};return this.each(function(){if(!this.selectize){var o,r=e(this),s=this.tagName.toLowerCase(),a=r.attr("placeholder")||r.attr("data-placeholder");a||i.allowEmptyOption||(a=r.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?d(r,l):c(r,l),o=new E(r,e.extend(!0,{},n,l,t))}})},e.fn.selectize.defaults=E.defaults,e.fn.selectize.support={validity:b},E.define("drag_drop",function(){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t=this;t.lock=function(){var e=t.lock;return function(){var n=t.$control.data("sortable");return n&&n.disable(),e.apply(t,arguments)}}(),t.unlock=function(){var e=t.unlock;return function(){var n=t.$control.data("sortable");return n&&n.enable(),e.apply(t,arguments)}}(),t.setup=function(){var n=t.setup;return function(){n.apply(this,arguments);var i=t.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:t.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var n=t.$activeItems?t.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(e(this).attr("data-value"))}),t.setValue(o),t.setActiveItem(n)}})}}()}}),E.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),E.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,o,r,s;return!this.isOpen||t.keyCode!==u&&t.keyCode!==d?e.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=t.keyCode===u?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var e,t=i.width,n=document;return"undefined"==typeof t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},o=function(){var o,r,s,a,l,u,p;if(p=e("[data-group]",n.$dropdown_content),r=p.length,r&&n.$dropdown_content.width()){if(t.equalizeHeight){for(s=0,o=0;r>o;o++)s=Math.max(s,p.eq(o).height());p.css({height:s})}t.equalizeWidth&&(u=n.$dropdown_content.innerWidth()-i(),a=Math.round(u/r),p.css({width:a}),r>1&&(l=u-a*(r-1),p.eq(r-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(F.after(this,"positionDropdown",o),F.after(this,"refreshOptions",o))}),E.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+I(t.title)+'">'+t.label+"</a>",o=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=function(){var r=n.setup;return function(){if(t.append){var s=n.settings.render.item;n.settings.render.item=function(){return o(s.apply(this,arguments),i)}}r.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!n.isLocked){var i=e(t.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),E.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,o;return t.keyCode===f&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(o=this.options[this.items[i]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),E});

/* Countup SCRIPTS */
!function(t,a){"function"==typeof define&&define.amd?define(a):"object"==typeof exports?module.exports=a(require,exports,module):t.CountUp=a()}(this,function(){var t=function(t,a,e,n,i,r){for(var o=0,s=["webkit","moz","ms","o"],u=0;u<s.length&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[s[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[u]+"CancelAnimationFrame"]||window[s[u]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var a=(new Date).getTime(),e=Math.max(0,16-(a-o)),n=window.setTimeout(function(){t(a+e)},e);return o=a+e,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),this.options={useEasing:!0,useGrouping:!0,separator:",",decimal:"."};for(var m in r)r.hasOwnProperty(m)&&(this.options[m]=r[m]);""===this.options.separator&&(this.options.useGrouping=!1),this.options.prefix||(this.options.prefix=""),this.options.suffix||(this.options.suffix=""),this.d="string"==typeof t?document.getElementById(t):t,this.startVal=Number(a),this.endVal=Number(e),this.countDown=this.startVal>this.endVal,this.frameVal=this.startVal,this.decimals=Math.max(0,n||0),this.dec=Math.pow(10,this.decimals),this.duration=1e3*Number(i)||2e3;var l=this;this.version=function(){return"1.6.0"},this.printValue=function(t){var a=isNaN(t)?"--":l.formatNumber(t);"INPUT"==l.d.tagName?this.d.value=a:"text"==l.d.tagName||"tspan"==l.d.tagName?this.d.textContent=a:this.d.innerHTML=a},this.easeOutExpo=function(t,a,e,n){return e*(-Math.pow(2,-10*t/n)+1)*1024/1023+a},this.count=function(t){l.startTime||(l.startTime=t),l.timestamp=t;var a=t-l.startTime;l.remaining=l.duration-a,l.frameVal=l.options.useEasing?l.countDown?l.startVal-l.easeOutExpo(a,0,l.startVal-l.endVal,l.duration):l.easeOutExpo(a,l.startVal,l.endVal-l.startVal,l.duration):l.countDown?l.startVal-(l.startVal-l.endVal)*(a/l.duration):l.startVal+(l.endVal-l.startVal)*(a/l.duration),l.frameVal=l.countDown?l.frameVal<l.endVal?l.endVal:l.frameVal:l.frameVal>l.endVal?l.endVal:l.frameVal,l.frameVal=Math.round(l.frameVal*l.dec)/l.dec,l.printValue(l.frameVal),a<l.duration?l.rAF=requestAnimationFrame(l.count):l.callback&&l.callback()},this.start=function(t){return l.callback=t,l.rAF=requestAnimationFrame(l.count),!1},this.pauseResume=function(){l.paused?(l.paused=!1,delete l.startTime,l.duration=l.remaining,l.startVal=l.frameVal,requestAnimationFrame(l.count)):(l.paused=!0,cancelAnimationFrame(l.rAF))},this.reset=function(){l.paused=!1,delete l.startTime,l.startVal=a,cancelAnimationFrame(l.rAF),l.printValue(l.startVal)},this.update=function(t){cancelAnimationFrame(l.rAF),l.paused=!1,delete l.startTime,l.startVal=l.frameVal,l.endVal=Number(t),l.countDown=l.startVal>l.endVal,l.rAF=requestAnimationFrame(l.count)},this.formatNumber=function(t){t=t.toFixed(l.decimals),t+="";var a,e,n,i;if(a=t.split("."),e=a[0],n=a.length>1?l.options.decimal+a[1]:"",i=/(\d+)(\d{3})/,l.options.useGrouping)for(;i.test(e);)e=e.replace(i,"$1"+l.options.separator+"$2");return l.options.prefix+e+n+l.options.suffix},l.printValue(l.startVal)};return t});

/* Clipboard.js SCrIPT v1.5.10 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(c,a){if(!n[c]){if(!e[c]){var s="function"==typeof require&&require;if(!a&&s)return s(c,!0);if(r)return r(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){var n=e[c][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[c].exports}for(var r="function"==typeof require&&require,c=0;c<o.length;c++)i(o[c]);return i}({1:[function(t,e,n){var o=t("matches-selector");e.exports=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(o(i,e))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function o(t,e,n,o,r){var c=i.apply(this,arguments);return t.addEventListener(n,c,r),{destroy:function(){t.removeEventListener(n,c,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&o.call(t,n)}}var r=t("closest");e.exports=o},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return i(t,e,n);if(a.nodeList(t))return r(t,e,n);if(a.string(t))return c(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function c(t,e,n){return s(document.body,t,e,n)}var a=t("./is"),s=t("delegate");e.exports=o},{"./is":3,delegate:2}],5:[function(t,e,n){function o(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),o=0;o<n.length;++o)if(n[o]==t)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=o},{}],6:[function(t,e,n){function o(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}e.exports=o},{}],7:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;i>o;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,c=o.length;c>r;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],8:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if("undefined"!=typeof o)r(n,e("select"));else{var c={exports:{}};r(c,i.select),i.clipboardAction=c.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},t.prototype.initSelection=function t(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function t(){var e=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return e.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="fixed",this.fakeElem.style[n?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function t(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function t(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function t(){var e=void 0;try{e=document.execCommand(this.action)}catch(n){e=!1}this.handleResult(e)},t.prototype.handleResult=function t(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function t(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function t(){this.removeFake()},c(t,[{key:"action",set:function t(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function t(){return this._action}},{key:"target",set:function t(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function t(){return this._target}}]),t}();t.exports=a})},{select:6}],9:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof o)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var c={exports:{}};r(c,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=c.exports}}(this,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),u=i(n),f=i(o),d=function(t){function e(n,o){r(this,e);var i=c(this,t.call(this));return i.resolveOptions(o),i.listenClick(n),i}return a(e,t),e.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},e.prototype.listenClick=function t(e){var n=this;this.listener=(0,f.default)(e,"click",function(t){return n.onClick(t)})},e.prototype.onClick=function t(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})},e.prototype.defaultAction=function t(e){return s("action",e)},e.prototype.defaultTarget=function t(e){var n=s("target",e);return n?document.querySelector(n):void 0},e.prototype.defaultText=function t(e){return s("text",e)},e.prototype.destroy=function t(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});

/* NO UI SLIDER SCRIPTS */
!function(a){"use strict";function b(a,b){return Math.round(a/b)*b}function c(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function d(a){var b=Math.pow(10,7);return Number((Math.round(a*b)/b).toFixed(7))}function e(a,b,c){a.addClass(b),setTimeout(function(){a.removeClass(b)},c)}function f(a){return Math.max(Math.min(a,100),0)}function g(b){return a.isArray(b)?b:[b]}function h(a){var b=a.split(".");return b.length>1?b[1].length:0}function i(a,b){return 100/(b-a)}function j(a,b){return 100*b/(a[1]-a[0])}function k(a,b){return j(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function l(a,b){return b*(a[1]-a[0])/100+a[0]}function m(a,b){for(var c=1;a>=b[c];)c+=1;return c}function n(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=m(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+k([d,e],c)/i(f,g)}function o(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=m(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],l([d,e],(c-f)*i(f,g))}function p(a,c,d,e){if(100===e)return e;var f,g,h=m(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):c[h-1]?a[h-1]+b(e-a[h-1],c[h-1]):e}function q(a,b,d){var e;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("wpvrSlider: 'range' contains invalid value.");if(e="min"===a?0:"max"===a?100:parseFloat(a),!c(e)||!c(b[0]))throw new Error("wpvrSlider: 'range' value isn't numeric.");d.xPct.push(e),d.xVal.push(b[0]),e?d.xSteps.push(isNaN(b[1])?!1:b[1]):isNaN(b[1])||(d.xSteps[0]=b[1])}function r(a,b,c){return b?void(c.xSteps[a]=j([c.xVal[a],c.xVal[a+1]],b)/i(c.xPct[a],c.xPct[a+1])):!0}function s(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)q(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)r(e,this.xNumSteps[e],this)}function t(a,b){if(!c(b))throw new Error("wpvrSlider: 'step' is not numeric.");a.singleStep=b}function u(b,c){if("object"!=typeof c||a.isArray(c))throw new Error("wpvrSlider: 'range' is not an object.");if(void 0===c.min||void 0===c.max)throw new Error("wpvrSlider: Missing 'min' or 'max' in 'range'.");b.spectrum=new s(c,b.snap,b.dir,b.singleStep)}function v(b,c){if(c=g(c),!a.isArray(c)||!c.length||c.length>2)throw new Error("wpvrSlider: 'start' option is incorrect.");b.handles=c.length,b.start=c}function w(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("wpvrSlider: 'snap' option must be a boolean.")}function x(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("wpvrSlider: 'animate' option must be a boolean.")}function y(a,b){if("lower"===b&&1===a.handles)a.connect=1;else if("upper"===b&&1===a.handles)a.connect=2;else if(b===!0&&2===a.handles)a.connect=3;else{if(b!==!1)throw new Error("wpvrSlider: 'connect' option doesn't match handle count.");a.connect=0}}function z(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("wpvrSlider: 'orientation' option is invalid.")}}function A(a,b){if(!c(b))throw new Error("wpvrSlider: 'margin' option must be numeric.");if(a.margin=a.spectrum.getMargin(b),!a.margin)throw new Error("wpvrSlider: 'margin' option is only supported on linear sliders.")}function B(a,b){if(!c(b))throw new Error("wpvrSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit)throw new Error("wpvrSlider: 'limit' option is only supported on linear sliders.")}function C(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:throw new Error("wpvrSlider: 'direction' option was not recognized.")}}function D(a,b){if("string"!=typeof b)throw new Error("wpvrSlider: 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0;a.events={tap:c||f,drag:d,fixed:e,snap:f}}function E(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("wpvrSlider: 'format' requires 'to' and 'from' methods.")}function F(b){var c,d={margin:0,limit:0,animate:!0,format:V};return c={step:{r:!1,t:t},start:{r:!0,t:v},connect:{r:!0,t:y},direction:{r:!0,t:C},snap:{r:!1,t:w},animate:{r:!1,t:x},range:{r:!0,t:u},orientation:{r:!1,t:z},margin:{r:!1,t:A},limit:{r:!1,t:B},behaviour:{r:!0,t:D},format:{r:!1,t:E}},b=a.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},b),a.each(c,function(a,c){if(void 0===b[a]){if(c.r)throw new Error("wpvrSlider: '"+a+"' is required.");return!0}c.t(d,b[a])}),d.style=d.ort?"top":"left",d}function G(a,b,c){var d=a+b[0],e=a+b[1];return c?(0>d&&(e+=Math.abs(d)),e>100&&(d-=e-100),[f(d),f(e)]):[d,e]}function H(a){a.preventDefault();var b,c,d=0===a.type.indexOf("touch"),e=0===a.type.indexOf("mouse"),f=0===a.type.indexOf("pointer"),g=a;return 0===a.type.indexOf("MSPointer")&&(f=!0),a.originalEvent&&(a=a.originalEvent),d&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),(e||f)&&(f||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),b=a.clientX+window.pageXOffset,c=a.clientY+window.pageYOffset),g.points=[b,c],g.cursor=e,g}function I(b,c){var d=a("<div><div/></div>").addClass(U[2]),e=["-lower","-upper"];return b&&e.reverse(),d.children().addClass(U[3]+" "+U[3]+e[c]),d}function J(a,b,c){switch(a){case 1:b.addClass(U[7]),c[0].addClass(U[6]);break;case 3:c[1].addClass(U[6]);case 2:c[0].addClass(U[7]);case 0:b.addClass(U[6])}}function K(a,b,c){var d,e=[];for(d=0;a>d;d+=1)e.push(I(b,d).appendTo(c));return e}function L(b,c,d){return d.addClass([U[0],U[8+b],U[4+c]].join(" ")),a("<div/>").appendTo(d).addClass(U[1])}function M(b,c,d){function i(){return C[["width","height"][c.ort]]()}function j(a){var b,c=[E.val()];for(b=0;b<a.length;b+=1)E.trigger(a[b],c)}function k(a){return 1===a.length?a[0]:c.dir?a.reverse():a}function l(a){return function(b,c){E.val([a?null:c,a?c:null],!0)}}function m(b){var c=a.inArray(b,N);E[0].linkAPI&&E[0].linkAPI[b]&&E[0].linkAPI[b].change(M[c],D[c].children(),E)}function n(b,d){var e=a.inArray(b,N);return d&&d.appendTo(D[e].children()),c.dir&&c.handles>1&&(e=1===e?0:1),l(e)}function o(){var a,b;for(a=0;a<N.length;a+=1)this.linkAPI&&this.linkAPI[b=N[a]]&&this.linkAPI[b].reconfirm(b)}function p(a,b,d,e){return a=a.replace(/\s/g,S+" ")+S,b.on(a,function(a){return E.attr("disabled")?!1:E.hasClass(U[14])?!1:(a=H(a),a.calcPoint=a.points[c.ort],void d(a,e))})}function q(a,b){var c,d=b.handles||D,e=!1,f=100*(a.calcPoint-b.start)/i(),g=d[0][0]!==D[0][0]?1:0;c=G(f,b.positions,d.length>1),e=v(d[0],c[g],1===d.length),d.length>1&&(e=v(d[1],c[g?0:1],!1)||e),e&&j(["slide"])}function r(b){a("."+U[15]).removeClass(U[15]),b.cursor&&a("body").css("cursor","").off(S),Q.off(S),E.removeClass(U[12]),j(["set","change"])}function s(b,c){1===c.handles.length&&c.handles[0].children().addClass(U[15]),b.stopPropagation(),p(T.move,Q,q,{start:b.calcPoint,handles:c.handles,positions:[F[0],F[D.length-1]]}),p(T.end,Q,r,null),b.cursor&&(a("body").css("cursor",a(b.target).css("cursor")),D.length>1&&E.addClass(U[12]),a("body").on("selectstart"+S,!1))}function t(b){var d,f=b.calcPoint,g=0;b.stopPropagation(),a.each(D,function(){g+=this.offset()[c.style]}),g=g/2>f||1===D.length?0:1,f-=C.offset()[c.style],d=100*f/i(),c.events.snap||e(E,U[14],300),v(D[g],d),j(["slide","set","change"]),c.events.snap&&s(b,{handles:[D[g]]})}function u(a){var b,c;if(!a.fixed)for(b=0;b<D.length;b+=1)p(T.start,D[b].children(),s,{handles:[D[b]]});a.tap&&p(T.start,C,t,{handles:D}),a.drag&&(c=C.find("."+U[7]).addClass(U[10]),a.fixed&&(c=c.add(C.children().not(c).children())),p(T.start,c,s,{handles:D}))}function v(a,b,d){var e=a[0]!==D[0][0]?1:0,g=F[0]+c.margin,h=F[1]-c.margin,i=F[0]+c.limit,j=F[1]-c.limit;return D.length>1&&(b=e?Math.max(b,g):Math.min(b,h)),d!==!1&&c.limit&&D.length>1&&(b=e?Math.min(b,i):Math.max(b,j)),b=I.getStep(b),b=f(parseFloat(b.toFixed(7))),b===F[e]?!1:(a.css(c.style,b+"%"),a.is(":first-child")&&a.toggleClass(U[17],b>50),F[e]=b,M[e]=I.fromStepping(b),m(N[e]),!0)}function w(a,b){var d,e,f;for(c.limit&&(a+=1),d=0;a>d;d+=1)e=d%2,f=b[e],null!==f&&f!==!1&&("number"==typeof f&&(f=String(f)),f=c.format.from(f),(f===!1||isNaN(f)||v(D[e],I.toStepping(f),d===3-c.dir)===!1)&&m(N[e]))}function x(a){if(E[0].LinkIsEmitting)return this;var b,d=g(a);return c.dir&&c.handles>1&&d.reverse(),c.animate&&-1!==F[0]&&e(E,U[14],300),b=D.length>1?3:1,1===d.length&&(b=1),w(b,d),j(["set"]),this}function y(){var a,b=[];for(a=0;a<c.handles;a+=1)b[a]=c.format.to(M[a]);return k(b)}function z(){return a(this).off(S).removeClass(U.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,d}function A(){var b=a.map(F,function(a,b){var c=I.getApplicableStep(a),d=h(String(c[2])),e=M[b],f=100===a?null:c[2],g=Number((e-c[2]).toFixed(d)),i=0===a?null:g>=c[1]?c[2]:c[0]||!1;return[[i,f]]});return k(b)}function B(){return d}var C,D,E=a(b),F=[-1,-1],I=c.spectrum,M=[],N=["lower","upper"].slice(0,c.handles);if(c.dir&&N.reverse(),b.LinkUpdate=m,b.LinkConfirm=n,b.LinkDefaultFormatter=c.format,b.LinkDefaultFlag="lower",b.reappend=o,E.hasClass(U[0]))throw new Error("Slider was already initialized.");C=L(c.dir,c.ort,E),D=K(c.handles,c.dir,C),J(c.connect,E,D),u(c.events),b.vSet=x,b.vGet=y,b.destroy=z,b.getCurrentStep=A,b.getOriginalOptions=B,b.getInfo=function(){return[I,c.style,c.ort]},E.val(c.start)}function N(a){var b=F(a,this);return this.each(function(){M(this,b,a)})}function O(b){return this.each(function(){if(!this.destroy)return void a(this).wpvrSlider(b);var c=a(this).val(),d=this.destroy(),e=a.extend({},d,b);a(this).wpvrSlider(e),this.reappend(),d.start===e.start&&a(this).val(c)})}function P(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}var Q=a(document),R=a.fn.val,S=".nui",T=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},U=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];s.prototype.getMargin=function(a){return 2===this.xPct.length?j(this.xVal,a):!1},s.prototype.toStepping=function(a){return a=n(this.xVal,this.xPct,a),this.direction&&(a=100-a),a},s.prototype.fromStepping=function(a){return this.direction&&(a=100-a),d(o(this.xVal,this.xPct,a))},s.prototype.getStep=function(a){return this.direction&&(a=100-a),a=p(this.xPct,this.xSteps,this.snap,a),this.direction&&(a=100-a),a},s.prototype.getApplicableStep=function(a){var b=m(a,this.xPct),c=100===a?2:1;return[this.xNumSteps[b-2],this.xVal[b-c],this.xNumSteps[b-c]]},s.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var V={to:function(a){return a.toFixed(2)},from:Number};a.fn.val=function(b){function c(a){return a.hasClass(U[0])?P:R}if(!arguments.length){var d=a(this[0]);return c(d).call(d)}var e=a.isFunction(b);return this.each(function(d){var f=b,g=a(this);e&&(f=b.call(this,d,g.val())),c(g).call(g,f)})},a.fn.wpvrSlider=function(a,b){switch(a){case"step":return this[0].getCurrentStep();case"options":return this[0].getOriginalOptions()}return(b?O:N).call(this,a)}}(window.jQuery||window.Zepto);

/* CHARTJS MINIFIED SCRIPTS */
(function(){"use strict";var t=this,i=t.Chart,e=function(t){this.canvas=t.canvas,this.ctx=t;this.width=t.canvas.width,this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,s.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var s=e.helpers={},n=s.each=function(t,i,e){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;n<t.length;n++)i.apply(e,[t[n],n].concat(s))}else for(var o in t)i.apply(e,[t[o],o].concat(s))},o=s.clone=function(t){var i={};return n(t,function(e,s){t.hasOwnProperty(s)&&(i[s]=e)}),i},a=s.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(i){n(i,function(e,s){i.hasOwnProperty(s)&&(t[s]=e)})}),t},h=s.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},l=s.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},r=(s.where=function(t,i){var e=[];return s.each(t,function(t){i(t)&&e.push(t)}),e},s.findNextWhere=function(t,i,e){e||(e=-1);for(var s=e+1;s<t.length;s++){var n=t[s];if(i(n))return n}},s.findPreviousWhere=function(t,i,e){e||(e=t.length);for(var s=e-1;s>=0;s--){var n=t[s];if(i(n))return n}},s.inherits=function(t){var i=this,e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,e.extend=r,t&&a(e.prototype,t),e.__super__=i.prototype,e}),c=s.noop=function(){},u=s.uid=function(){var t=0;return function(){return"chart-"+t++}}(),d=s.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=s.amd="function"==typeof t.define&&t.define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},m=s.min=function(t){return Math.min.apply(Math,t)},v=(s.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&e>t)return e;return t},s.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),x=s.radians=function(t){return t*(Math.PI/180)},S=(s.getAngleFromPoint=function(t,i){var e=i.x-t.x,s=i.y-t.y,n=Math.sqrt(e*e+s*s),o=2*Math.PI+Math.atan2(s,e);return 0>e&&0>s&&(o+=2*Math.PI),{angle:o,distance:n}},s.aliasPixel=function(t){return t%2===0?0:.5}),y=(s.splineCurve=function(t,i,e,s){var n=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=s*n/(n+o),h=s*o/(n+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+h*(e.x-t.x),y:i.y+h*(e.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),C=(s.calculateScaleRange=function(t,i,e,s,n){var o=2,a=Math.floor(i/(1.5*e)),h=o>=a,l=g(t),r=m(t);l===r&&(l+=.5,r>=.5&&!s?r-=.5:l+=.5);for(var c=Math.abs(l-r),u=y(c),d=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),p=s?0:Math.floor(r/(1*Math.pow(10,u)))*Math.pow(10,u),f=d-p,v=Math.pow(10,u),x=Math.round(f/v);(x>a||a>2*x)&&!h;)if(x>a)v*=2,x=Math.round(f/v),x%1!==0&&(h=!0);else if(n&&u>=0){if(v/2%1!==0)break;v/=2,x=Math.round(f/v)}else v/=2,x=Math.round(f/v);return h&&(x=o,v=f/x),{steps:x,stepValue:v,min:p,max:p+x*v}},s.template=function(t,i){function e(t,i){var e=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):s[t]=s[t];return i?e(i):e}if(t instanceof Function)return t(i);var s={};return e(t,i)}),b=(s.generateLabels=function(t,i,e,s){var o=new Array(i);return labelTemplateString&&n(o,function(i,n){o[n]=C(t,{value:e+s*(n+1)})}),o},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)))},easeOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(1*t-i)*Math.PI/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:2==(t/=.5)?1:(e||(e=.3*1.5),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-b.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*b.easeInBounce(2*t):.5*b.easeOutBounce(2*t-1)+.5}}),w=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),P=(s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),s.animationLoop=function(t,i,e,s,n,o){var a=0,h=b[e]||b.linear,l=function(){a++;var e=a/i,r=h(e);t.call(o,r,e,a),s.call(o,r,e),i>a?o.animationFrame=w(l):n.apply(o)};w(l)},s.getRelativePosition=function(t){var i,e,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,o=n.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX-o.left,e=s.touches[0].clientY-o.top):(i=s.clientX-o.left,e=s.clientY-o.top),{x:i,y:e}},s.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}),L=s.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent("on"+i,e):t["on"+i]=c},k=(s.bindEvents=function(t,i,e){t.events||(t.events={}),n(i,function(i){t.events[i]=function(){e.apply(t,arguments)},P(t.chart.canvas,i,t.events[i])})},s.unbindEvents=function(t,i){n(i,function(i,e){L(t.chart.canvas,e,i)})}),F=s.getMaximumWidth=function(t){var i=t.parentNode;return i.clientWidth},R=s.getMaximumHeight=function(t){var i=t.parentNode;return i.clientHeight},A=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+"px",i.canvas.style.height=s+"px",i.canvas.height=s*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))}),T=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},M=s.fontString=function(t,i,e){return i+" "+t+"px "+e},W=s.longestText=function(t,i,e){t.font=i;var s=0;return n(e,function(i){var e=t.measureText(i).width;s=e>s?e:s}),s},z=s.drawRoundedRectangle=function(t,i,e,s,n,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+s-o,e),t.quadraticCurveTo(i+s,e,i+s,e+o),t.lineTo(i+s,e+n-o),t.quadraticCurveTo(i+s,e+n,i+s-o,e+n),t.lineTo(i+o,e+n),t.quadraticCurveTo(i,e+n,i,e+n-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,s){this.options=i,this.chart=s,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return T(this.chart),this},stop:function(){return s.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var i=this.chart.canvas,e=F(this.chart.canvas),s=this.options.maintainAspectRatio?e/this.chart.aspectRatio:R(this.chart.canvas);return i.width=this.chart.width=e,i.height=this.chart.height=s,A(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?s.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return C(this.options.legendTemplate,this)},destroy:function(){this.clear(),k(this,this.events),delete e.instances[this.id]},showTooltip:function(t,i){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(n(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,h,r=this.datasets.length-1;r>=0&&(a=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,h=l(a,t[0]),-1===h);r--);var c=[],u=[],d=function(){var t,i,e,n,o,a=[],l=[],r=[];return s.each(this.datasets,function(i){t=i.points||i.bars||i.segments,t[h]&&t[h].hasValue()&&a.push(t[h])}),s.each(a,function(t){l.push(t.x),r.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(r),e=g(r),n=m(l),i=g(l),{x:n>this.chart.width/2?n:i,y:(o+e)/2}}.call(this,h);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else n(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:C(this.options.tooltipTemplate,t),chart:this.chart}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,s=function(){return i.apply(this,arguments)};if(s.prototype=o(i.prototype),a(s.prototype,t),s.extend=e.Type.extend,t.name||i.prototype.name){var n=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[n]=a(l,t.defaults),e.types[n]=s,e.prototype[n]=function(t,i){var o=h(e.defaults.global,e.defaults[n],i||{});return new s(t,o,this)}}else d("Name not provided for this chart, so it hasn't been registered");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return n(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),e.Element.extend=r,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=s.getAngleFromPoint(this,{x:t,y:i}),n=e.angle>=this.startAngle&&e.angle<=this.endAngle,o=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return n&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,i=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(t){var i=this.ctx;i.beginPath(),i.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),i.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),i.closePath(),i.strokeStyle=this.strokeColor,i.lineWidth=this.strokeWidth,i.fillStyle=this.fillColor,i.fill(),i.lineJoin="bevel",this.showStroke&&i.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width/2,e=this.x-i,s=this.x+i,n=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(e+=o,s-=o,n+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,n),t.lineTo(s,n),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&i>=this.y&&i<=this.base}}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var i=2,e=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,n=s+this.caretHeight+i;this.x+e/2>this.chart.width?this.xAlign="left":this.x-e/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below");var o=this.x-e/2,a=this.y-n;switch(t.fillStyle=this.fillColor,this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}z(t,o,a,e,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+e/2,a+s/2)}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=M(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=W(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var s=this.height/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height/2+this.yPadding,e=t-1;return 0===t?i+this.titleFontSize/2:i+(1.5*this.fontSize*e+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){z(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?W(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth+10?e/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,o=W(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(x(this.xLabelRotation)),t=n*e,i=n*s,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(x(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i/(this.valuesCount-(this.offsetGridLines?0:1)),s=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=e/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,o){var a=this.endPoint-i*o,h=Math.round(a);t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,e-10,a),t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),h+=s.aliasPixel(t.lineWidth),t.moveTo(e,h),t.lineTo(this.width,h),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,h),t.lineTo(e,h),t.stroke(),t.closePath()},this),n(this.xLabels,function(i,e){var s=this.calculateX(e)+S(this.lineWidth),n=this.calculateX(e-(this.offsetGridLines?.5:0))+S(this.lineWidth),o=this.xLabelRotation>0;t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(s,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*x(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var i=this.drawingArea/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,i,e,s,n,o,a,h,l,r,c,u,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=M(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,d),e=this.ctx.measureText(C(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(s=e/2,t.x+s>p&&(p=t.x+s,n=i),t.x-s<g&&(g=t.x-s,a=i)):i<this.valuesCount/2?t.x+e>p&&(p=t.x+e,n=i):i>this.valuesCount/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,r=Math.ceil(p-this.width),o=this.getIndexAngle(n),h=this.getIndexAngle(a),c=r/Math.sin(o+Math.PI/2),u=l/Math.sin(h+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=d-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+e)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var i=2*Math.PI/this.valuesCount;return t*i-Math.PI/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(i,e){if(e>0){var s,n=e*(this.drawingArea/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-h/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){if(this.angleLineWidth>0){var e=this.getPointPosition(i,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(e.x,e.y),t.stroke(),t.closePath()}var s=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=M(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,a=this.labels.length/2,h=a/2,l=h>i||i>o-h,r=i===h||i===o-h;t.textAlign=0===i?"center":i===a?"center":a>i?"left":"right",t.textBaseline=r?"middle":l?"bottom":"top",t.fillText(this.labels[i],s.x,s.y)}}}}}),s.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return e}):"object"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Bar",defaults:s,initialize:function(t){var s=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,i,e){var n=this.calculateBaseWidth(),o=this.calculateX(e)-n/2,a=this.calculateBarWidth(t);return o+a*i+i*s.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing},calculateBarWidth:function(t){var i=this.calculateBaseWidth()-(t-1)*s.barDatasetSpacing;return i/t}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.bars.push(new this.BarClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.strokeColor,fillColor:i.fillColor,highlightFill:i.highlightFill||i.fillColor,highlightStroke:i.highlightStroke||i.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,i,s){e.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,s,i),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){e.each(this.datasets,function(i,s){e.each(i.bars,t,this,s)},this)},getBarsAtEvent:function(t){for(var i,s=[],n=e.getRelativePosition(t),o=function(t){s.push(t.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(n.x,n.y))return e.each(this.datasets,o),s;return s},buildScale:function(t){var i=this,s=function(){var t=[];return i.eachBars(function(i){t.push(i.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(s(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(n,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].bars.push(new this.BarClass({value:t,label:i,x:this.scale.calculateBarX(this.datasets.length,e,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[e].strokeColor,fillColor:this.datasets[e].fillColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){e.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();this.chart.ctx;this.scale.draw(i),e.each(this.datasets,function(t,s){e.each(t.bars,function(t,e){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,s,e),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},i).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};
i.Type.extend({name:"Doughnut",defaults:s,initialize:function(t){this.segments=[],this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.calculateTotal(t),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),e||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),e.each(this.activeElements,function(t){t.restore(["fillColor"])}),e.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,e.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var i=t?t:1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),t.endAngle=t.startAngle+t.circumference,t.draw(),0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle)},this)}}),i.types.Doughnut.extend({name:"Pie",defaults:e.merge(s,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Line",defaults:s,initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,i){e.extend(t,{x:this.scale.calculateX(i),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.datasets,function(t){e.each(t.points,function(t){t.inRange(s.x,s.y)&&i.push(t)})},this),i},buildScale:function(t){var s=this,n=function(){var t=[];return s.eachPoints(function(i){t.push(i.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(o,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new i.Scale(o)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();var s=this.chart.ctx,n=function(t){return null!==t.value},o=function(t,i,s){return e.findNextWhere(i,n,s)||t},a=function(t,i,s){return e.findPreviousWhere(i,n,s)||t};this.scale.draw(i),e.each(this.datasets,function(t){var h=e.where(t.points,n);e.each(t.points,function(t,e){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(e)},i)},this),this.options.bezierCurve&&e.each(h,function(t,i){var s=i>0&&i<h.length-1?this.options.bezierCurveTension:0;t.controlPoints=e.splineCurve(a(t,h,i),t,o(t,h,i),s),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(h,function(t,i){if(0===i)s.moveTo(t.x,t.y);else if(this.options.bezierCurve){var e=a(t,h,i);s.bezierCurveTo(e.controlPoints.outer.x,e.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else s.lineTo(t.x,t.y)},this),s.stroke(),this.options.datasetFill&&h.length>0&&(s.lineTo(h[h.length-1].x,this.scale.endPoint),s.lineTo(h[0].x,this.scale.endPoint),s.fillStyle=t.fillColor,s.closePath(),s.fill()),e.each(h,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"PolarArea",defaults:s,initialize:function(t){this.segments=[],this.SegmentArc=i.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),e||(this.reflow(),this.update())},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var i=[];e.each(t,function(t){i.push(t.value)});var s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s,{size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),e.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),e.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),e.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var i=t||1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},i),t.endAngle=t.startAngle+t.circumference,0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers;i.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){var o;this.scale.animation||(o=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e))),s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=e.getRelativePosition(t),s=e.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i),n=2*Math.PI/this.scale.valuesCount,o=Math.round((s.angle-1.5*Math.PI)/n),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),s.distance<=this.scale.drawingArea&&e.each(this.datasets,function(t){a.push(t.points[o])}),a},buildScale:function(t){this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var i=function(){var i=[];return e.each(t,function(t){t.data?i=i.concat(t.data):e.each(t.points,function(t){i.push(t.value)})}),i}(),s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s)},addData:function(t,i){this.scale.valuesCount++,e.each(t,function(t,e){var s=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:s.x,y:s.y,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.labels.push(i),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),e.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var i=t||1,s=this.chart.ctx;this.clear(),this.scale.draw(),e.each(this.datasets,function(t){e.each(t.points,function(t,e){t.hasValue()&&t.transition(this.scale.getPointPosition(e,this.scale.calculateCenterOffset(t.value)),i)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(t.points,function(t,i){0===i?s.moveTo(t.x,t.y):s.lineTo(t.x,t.y)},this),s.closePath(),s.stroke(),s.fillStyle=t.fillColor,s.fill(),e.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this);

/* WPVR WPVR MINIFIED SCRIPTS v1.8.4 (final)  */
function wpvr_async_draw_chart(e,t,r,o,a){if("pie"==o){var n={segmentShowStroke:!0,segmentStrokeColor:"transparent",segmentStrokeWidth:3,percentageInnerCutout:0,animationSteps:50,animationEasing:"easeOutQuart",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="wpvr_chart_legend <%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><div class=" wpvr_chart_legend_color pull-left" style="background-color:<%=segments[i].fillColor%>"></div><%if(segments[i].label){%><div class=" wpvr_chart_legend_text pull-left "><%=segments[i].label%> ( <%=segments[i].value%> )</div><%}%></li><%}%></ul>'},i=e.parent().width();e.attr("width",i);var l=e.get(0).getContext("2d"),s=new Chart(l).Pie(r,n),_=s.generateLegend();t.html(_),window.onresize=function(o){var a=e.parent().width();e.attr("width",a);var i=e.get(0).getContext("2d"),l=new Chart(i).Pie(r,n),s=l.generateLegend();t.html(s)}}else if("donut"==o){var n={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:5,percentageInnerCutout:60,animationSteps:20,animationEasing:"swing",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="wpvr_chart_legend <%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){ if(segments[i].value==0) continue;%><li><div class=" wpvr_chart_legend_color pull-left" style="background-color:<%=segments[i].fillColor%>"></div><%if(segments[i].label){%><div class=" wpvr_chart_legend_text pull-left "><%=segments[i].label%> ( <%=segments[i].value%> )</div><%}%></li><%}%></ul>'},i=e.parent().width();e.attr("width",i);var l=e.get(0).getContext("2d"),s=new Chart(l).Doughnut(r,n),_=s.generateLegend();t.html(_),window.onresize=function(o){var a=e.parent().width();e.attr("width",a);var i=e.get(0).getContext("2d"),l=new Chart(i).Doughnut(r,n),s=l.generateLegend();t.html(s)}}else if("bar"==o){var n={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1},i=e.parent().width();e.attr("width",i);var l=e.get(0).getContext("2d"),s=new Chart(l).Bar(r,n),_=s.generateLegend();t.html(_),window.onresize=function(o){var a=e.parent().width();e.attr("width",a);var i=e.get(0).getContext("2d"),l=new Chart(i).Bar(r,n),s=l.generateLegend();t.html(s)}}else{if("radar"!=o)return!1;var n={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,multiTooltipTemplate:" <%= value %> <%=datasetLabel%>"},i=e.parent().parent().parent().width();e.attr("width",i);var l=e.get(0).getContext("2d"),s=new Chart(l).Radar(r,n)}return s}function wpvr_draw_chart(e,t,r,o){jQuery(document).ready(function(a){if("pie"==o){var n={segmentShowStroke:!0,segmentStrokeColor:"transparent",segmentStrokeWidth:3,percentageInnerCutout:0,animationSteps:50,animationEasing:"easeOutQuart",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="wpvr_chart_legend <%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><div class=" wpvr_chart_legend_color pull-left" style="background-color:<%=segments[i].fillColor%>"></div><%if(segments[i].label){%><div class=" wpvr_chart_legend_text pull-left "><%=segments[i].label%> ( <%=segments[i].value%> )</div><%}%></li><%}%></ul>'},i=e.parent().width();e.attr("width",i);var l=e.get(0).getContext("2d"),s=new Chart(l).Pie(r,n),_=s.generateLegend();t.html(_),window.onresize=function(o){var a=e.parent().width();e.attr("width",a);var i=e.get(0).getContext("2d"),l=new Chart(i).Pie(r,n),s=l.generateLegend();t.html(s)}}else if("donut"==o){var n={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:5,percentageInnerCutout:60,animationSteps:20,animationEasing:"swing",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="wpvr_chart_legend <%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){ if(segments[i].value==0) continue;%><li><div class=" wpvr_chart_legend_color pull-left" style="background-color:<%=segments[i].fillColor%>"></div><%if(segments[i].label){%><div class=" wpvr_chart_legend_text pull-left "><%=segments[i].label%> ( <%=segments[i].value%> )</div><%}%></li><%}%></ul>'},i=e.parent().width();e.attr("width",i);var l=e.get(0).getContext("2d"),s=new Chart(l).Doughnut(r,n),_=s.generateLegend();t.html(_),window.onresize=function(o){var a=e.parent().width();e.attr("width",a);var i=e.get(0).getContext("2d"),l=new Chart(i).Doughnut(r,n),s=l.generateLegend();t.html(s)}}else if("bar"==o){var n={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1},i=e.parent().width();e.attr("width",i);var l=e.get(0).getContext("2d"),s=new Chart(l).Bar(r,n),_=s.generateLegend();t.html(_),window.onresize=function(o){var a=e.parent().width();e.attr("width",a);var i=e.get(0).getContext("2d"),l=new Chart(i).Bar(r,n),s=l.generateLegend();t.html(s)}}else{if("radar"!=o)return!1;var n={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1},i=e.parent().width();e.attr("width",i);var l=e.get(0).getContext("2d"),s=new Chart(l).Radar(r,n),_=s.generateLegend();t.html(_),window.onresize=function(t){var o=e.parent().width();e.attr("width",o);var a=e.get(0).getContext("2d");new Chart(a).Radar(r,n)}}return s})}jQuery(document).ready(function(e){e.getScript(wpvr_globals.functions_js).done(function(){function t(e,t){var r=t||"undefined"==typeof t?"<br />":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+r+"$2")}function r(t){var r=e(".wpvr_manual_adding_btns");"off"==t.val()?r.hide():r.fadeIn()}function o(){e("body").hasClass("folded")?e(".wpvr_test_form_buttons.bottom").addClass("folded"):e(".wpvr_test_form_buttons.bottom").removeClass("folded")}function a(t){var r=e(".wpvr_theme_screenshot"),o=r.attr("folder"),a=t.attr("value");("seven"==a||""==a)&&(a="default");var n=o+a+".jpg";r.hide().html('<img class="wpvr_theme_screenshot_img" src="'+n+'" />').fadeIn()}function n(e,t){var r=e.attr("async_start_url"),o=e.attr("async_single_url"),a=e.attr("async_confirm_msg"),n=e.attr("async_processed_msg"),l=wpvr_show_loading({title:wpvr_localize.please_wait,text:wpvr_localize.work_in_progress+"...",progressBar:!0,cancelButton:wpvr_localize.cancel_button,isModal:!0});l.doProgress({pct:1,text:wpvr_localize.loading+""}),l.doHighlight(),l.attr("work",1),l.attr("processed_msg",n),l.attr("confirm_msg",a),l.attr("single_url",o),l.attr("start_url",r),l.doCancel(function(){l.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){l.doShow()},wpvr_localize.continue_button,function(){l.attr("work",0);l.attr("k")},wpvr_localize.cancel_anyway)}),i(0,t,l)}function i(t,r,o){o.attr("k",t);var a=(o.attr("url"),o.attr("processed_msg")),n=o.attr("single_url");if(t>=r.length){console.log("All items async processed !"),o.stopHighlight(),o.doClose();var l=_({title:wpvr_localize.work_completed,text:r.length+" "+a+".",pauseButton:wpvr_localize.ok_button});return l.doPause(function(){l.doClose()}),!1}e.ajax({type:"GET",url:n,data:{k:t},success:function(e){if($json=wpvr_get_json(e),console.log($json),"error"!=e){var a=(100*parseInt((t+1)/r.length)+"%",Math.round((parseInt(t)+1)/r.length*100));o.doProgress({pct:a,text:t+1+" / "+r.length}),t++,i(t,r,o)}else console.log("OUPS! There has been an error !"),console.log(e)},error:function(e,t,r){alert(r)}})}function l(t,r,o,a,n){if(1!=a.attr("work"))return a.doClose(),!1;if("false"!=a.attr("pause"))return!1;var i=a.attr("spinner_id");if(a.attr("k",t),t>=r.length){a.stopHighlight(),a.doClose();var s=_({title:wpvr_localize.work_completed,text:r.length+" "+wpvr_localize.videos_added_successfully+".",pauseButton:wpvr_localize.ok_button});return s.doPause(function(){s.doClose(),wpvr_remove_loading_spinner(e("#"+i))}),s.doRemove(function(){wpvr_remove_loading_spinner(e("#"+i))}),!1}var c=r[t];if("1"==a.attr("is_deferred"))var p="&is_deferred";else var p="";e(".wpvr_video#video_"+c.div_id).addClass("adding");var v=a.attr("session"),d=c.video_id;e.ajax({type:"POST",url:o+"?wpvr_wpload&test_add_single_video"+p,data:{video_id:c.video_id,session:v},success:function(n){if(n=wpvr_get_json(n),0==n.status){a.stopHighlight(),a.doClose(),e(".wpvr_video[video_id="+d+"]").removeClass("adding");var s=_({title:"WP Video Robot - ERROR",text:n.msg,pauseButton:wpvr_localize.ok_button});return s.doPause(function(){s.doClose(),wpvr_remove_loading_spinner(e("#"+i))}),s.doRemove(function(){wpvr_remove_loading_spinner(e("#"+i))}),!1}data=n.data;var p=wpvr_localize.work_in_progress+"... <br/><br/> <strong>"+data.title+"</strong>";if(a.doText(p),1==n.status){var v=Math.round((parseInt(t)+1)/r.length*100);a.doProgress({pct:v,text:t+1+" / "+r.length});var u=e(".wpvr_video#video_"+c.div_id);u.removeClass("adding").addClass("added"),e(".wpvr_video_cb",u).remove(),t++,l(t,r,o,a,is_deferred)}else{e(".wpvr_video[video_id="+d+"]").removeClass("adding");_({title:"WP Video Robot - ERROR",text:wpvr_localize.errorJSON+"<br/>"+n.msg})}e(".wpvr_count_checked").html(" ")},error:function(t,r,o){e(".wpvr_video[video_id="+d+"]").removeClass("adding");_({title:"WP Video Robot - ERROR",text:wpvr_localize.errorJSON+"<br/>"+o})}})}function s(t,r,o,a,n){if(1!=a.attr("work"))return a.doClose(),!1;if("false"!=a.attr("pause"))return!1;var i=a.attr("spinner_id");if(a.attr("k",t),t>=r.length){a.stopHighlight(),a.doClose();var l=_({title:wpvr_localize.work_completed,text:r.length+" "+wpvr_localize.videos_unanted_successfully+".",pauseButton:wpvr_localize.ok_button});return l.doPause(function(){l.doClose(),wpvr_remove_loading_spinner(e("#"+i))}),l.doRemove(function(){wpvr_remove_loading_spinner(e("#"+i))}),!1}var c=r[t];e(".wpvr_video#video_"+c.div_id).addClass("adding");var p=a.attr("session");e.ajax({type:"POST",url:o+"?wpvr_wpload&test_add_unwanted_single_video",data:{video_id:c.video_id,session:p},success:function(n){n=wpvr_get_json(n),data=n.data;var i=wpvr_localize.work_in_progress+"... <br/><br/> <strong>"+data.title+"</strong>";if(a.doText(i),1==n.status){var l=Math.round((parseInt(t)+1)/r.length*100);a.doProgress({pct:l,text:t+1+" / "+r.length});var p=e(".wpvr_video#video_"+c.div_id);p.removeClass("adding").addClass("unwanted"),e(".wpvr_video_cb",p).remove(),t++,s(t,r,o,a)}else{_({title:"WP Video Robot - ERROR",text:wpvr_localize.errorJSON+"<br/>"+n.msg})}e(".wpvr_count_checked").html(" ")},error:function(e,t,r){_({title:"WP Video Robot - ERROR",text:wpvr_localize.errorJSON+"<br/>"+r})}})}function _(t){var r,o=wpvr_random_token(20);if(t.hasOwnProperty("isModal")&&t.isModal===!0)var a=!0;else var a=!1;if(t.hasOwnProperty("progressBar")&&t.progressBar===!0)var n='<div class="wpvr_loading_progress"><div class="wpvr_loading_progress_text"></div><div class="wpvr_loading_progress_p"></div></div>';else var n="";if(t.hasOwnProperty("cancelButton"))var i='<div class="wpvr_button wpvr_loading_cancel">'+t.cancelButton+"</div>";else var i="";if(t.hasOwnProperty("title"))var l=t.title;else var l="";if(t.hasOwnProperty("boxClass"))var s=t.boxClass;else var s="";if(t.hasOwnProperty("width"))var _=t.width;else var _="30%";if(t.hasOwnProperty("height"))var c=t.height;else var c="auto";if(t.hasOwnProperty("maskClass"))var p=t.maskClass;else var p="";if(t.hasOwnProperty("text"))var v=t.text;else var v="";if(t.hasOwnProperty("pauseButton"))var d='<div class="wpvr_button wpvr_loading_pause">'+t.pauseButton+"</div>";else var d="";var u='<div class = "wpvr_loading_box '+s+' " id="'+o+'" ><div class="wpvr_loading_msg"><div class="wpvr_loading_msg_title">'+l+'</div><div class="wpvr_loading_close"></div><div class="wpvr_loading_msg_text">'+v+'</div><div class="wpvr_loading_footer">'+n+i+d+'</div></div></div><div class="wpvr_loading_mask '+p+'"></div>';if(r=e(u),r.css("display","none"),e(".wpvr_loading_msg",r).css("width",_),"auto"!=c&&(e(".wpvr_loading_msg",r).css("height",c),e(".wpvr_loading_msg_text",r).css("height","86%").css("overflow-y","scroll").css("padding","0 10px 0 0"),e(".wpvr_loading_pause",r).css("margin-top","1em").css("float","right"),e(".wpvr_loading_cancel",r).css("margin-top","1em").css("margin-left","0").css("float","left"),e(".wpvr_loading_msg_title",r).css("margin-bottom","1em")),e("#adminmenuwrap").css("z-index",100),e("body").append(r),r.fadeIn("fast","swing"),e(".wpvr_loading_msg",r).center(),window.onresize=window.onscroll=function(t){e(".wpvr_loading_msg",r).center()},e.fn.doClose=function(t){var r=this,o=e(".wpvr_loading_msg",r),a=e(".wpvr_loading_mask");o.fadeOut("fast","swing",function(){a.fadeOut("fast",function(){r.remove()})})},e.fn.doHide=function(t){var r=this,o=e(".wpvr_loading_msg",r),a=e(".wpvr_loading_mask");o.fadeOut("fast","swing",function(){a.fadeOut("fast",function(){})})},e.fn.doShow=function(t){var r=this,o=e(".wpvr_loading_msg",r),a=e(".wpvr_loading_mask");o.fadeIn("fast","swing",function(){a.fadeIn("fast",function(){})})},e.fn.doHighlight=function(t){var r=e(".wpvr_loading_progress_p",this),o=setInterval(function(){r.toggleClass("highlight")},300);return this.attr("hInt",o),o},e.fn.stopHighlight=function(t){var t=this.attr("hInt");clearInterval(t),e(".wpvr_loading_progress_p",this).removeClass("highlight")},e.fn.doProgress=function(t){var r=e(".wpvr_loading_progress_text",this),o=e(".wpvr_loading_progress_p",this);t.hasOwnProperty("pct")&&o.css({width:t.pct+"%"}),t.hasOwnProperty("text")&&r.html(t.text)},e.fn.doText=function(t){e(".wpvr_loading_msg_text",this).html(t)},e.fn.doCancel=function(t){e(".wpvr_loading_cancel",this).bind("click",t)},e.fn.doPause=function(t){e(".wpvr_loading_pause",this).bind("click",t)},e.fn.doRemove=function(e){this.on("remove",e)},e(".wpvr_loading_close",r).bind("click",function(){t.hasOwnProperty("cancelButton")?e(".wpvr_loading_cancel",r).trigger("click"):r.remove()}),e(document).keyup(function(t){27==t.keyCode&&e(".wpvr_loading_close",r).trigger("click")}),a===!1){var w=e(".wpvr_loading_mask");w.click(function(e){e.preventDefault(),r.doClose()})}return e(".wpvr_wrap").attr("box_id",o),"undefined"!=typeof r?r:o}function c(t,r,o){r="undefined"!=typeof r?r:!1,t="undefined"!=typeof t?t:!1,o="undefined"!=typeof o?o:1;var a=e("form.wpvr_manage_main_form"),n=a.attr("url")+"?wpvr_wpload&refresh_manage_videos&filter_page="+o,i=a.serialize(),l=e(".wpvr_manage_page_message"),s=e(".wpvr_manage_page_select"),c=_({title:"WP Video Robot",text:wpvr_localize.loadingCenter});e.ajax({type:"POST",url:n,data:i,success:function(o){return c.remove(),$json=wpvr_get_json(o),$data=$json.data,e("html, body").animate({scrollTop:0},"slow"),"1"==e(".wpvr_manage_content").attr("is_fresh")&&e(".wpvr_manage_content").attr("is_fresh","0"),0==$data.total_results?(l.html(""),s.html(""),e(".wpvr_manage_content").html($data.no_results_msg),!1):(l.html(wpvr_localize.showing+" <b> "+$data.show_start+"-"+$data.show_end+" </b> "+wpvr_localize.on+" <b> "+$data.total_results+" </b> "+wpvr_localize.items+"."),t&&wpvr_manage_render_pages("1",$data.last_page,s),r&&wpvr_manage_render_pages($data.actual_page,$data.last_page,s),e(".wpvr_manage_content").html($data.html),void($data.debug&&console.log($data.debug)))},error:function(e,t,r){c.remove();_({title:"WP Video Robot - ERROR",text:wpvr_localize.errorJSON+"<br/>"+r})}})}function p(t,r,o){o.attr("k",t);var a=o.attr("url"),n=parseInt(o.attr("buffer"));if(t>=r.length){o.stopHighlight(),o.doClose();var i=_({title:wpvr_localize.work_completed,text:r.length+" "+wpvr_localize.videos_processed_successfully+".",pauseButton:wpvr_localize.ok_button});return i.doPause(function(){i.doClose(),c(!1,!0)}),!1}for(var l=(r[t],{}),s=0;s<Math.min(r.length,n);s++)l[s]=r[t+s];e.ajax({type:"POST",url:a+"?wpvr_wpload&import_single_video",data:{items:l},success:function(e){if(e=wpvr_get_json(e),"error"!=e.status){var a=Math.min(r.length,parseInt(parseInt(t)+parseInt(n))),i=(100*parseInt(a/r.length)+"%",Math.round(a+1/r.length*100));o.doProgress({pct:i,text:a+" / "+r.length}),p(a,r,o)}else alert("OUPS! There has been an error !");console.log(e)},error:function(e,t,r){alert(r)}})}function v(t,r,o){o.attr("k",t);var a=o.attr("url"),n=o.attr("action");if(t>=r.length){o.stopHighlight(),o.doClose();var i=_({title:wpvr_localize.work_completed,text:r.length+" "+wpvr_localize.videos_processed_successfully+".",pauseButton:wpvr_localize.ok_button});return i.doPause(function(){i.doClose(),c(!1,!0)}),!1}var l=r[t];e(".wpvr_video#video_"+l).addClass("adding"),e.ajax({type:"POST",url:a+"?wpvr_wpload&bulk_single_action",data:{video_id:l,action:n},success:function(a){var n=wpvr_get_json(a);if(1==n.status){var i=(100*parseInt((t+1)/r.length)+"%",Math.round((parseInt(t)+1)/r.length*100));o.doProgress({pct:i,text:t+1+" / "+r.length}),e(".wpvr_video#video_"+l).removeClass("adding").addClass("added"),e(".wpvr_video_cb[name="+l+"]").remove(),t++,v(t,r,o)}else alert("OUPS! There has been an error !")},error:function(e,t,r){alert(r)}})}function d(t,r){return r?!1:void("advanced"==t?(e(".wizard_wrap").hide(),e(".advanced_wrap").fadeIn()):(e(".wizard_wrap").fadeIn(),e(".advanced_wrap").hide()))}function u(t,r,o){e(".wpvr_import_message");if(0==t.length)return!1;var a=wpvr_show_loading({title:wpvr_localize.please_wait,text:wpvr_localize.work_in_progress+"...",progressBar:!0,cancelButton:wpvr_localize.cancel_button,isModal:!0});a.doProgress({pct:1,text:wpvr_localize.loading+""}),a.doHighlight(),a.attr("work",1),a.attr("url",r),a.attr("buffer",o),a.doCancel(function(){a.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){a.doShow()},wpvr_localize.continue_button,function(){a.attr("work",0);a.attr("k")},wpvr_localize.cancel_anyway)}),p(0,t,a)}function w(t,r,o){var a=e("#wpvr_manage_videos"),n=a.attr("url");if(t)isManual=!1;else{var t=e(".wpvr_manage_bulk_actions_select").attr("value");isManual=!0}if(""==t)return!1;var i=(e(".wpvr_manage_message"),[]);if(e(".wpvr_video_cb",a).each(function(){e(this).prop("checked")&&i.push(e(this).attr("value"))}),0==i.length)return!1;var l=wpvr_show_loading({title:wpvr_localize.please_wait,text:wpvr_localize.work_in_progress+"...",progressBar:!0,cancelButton:wpvr_localize.cancel_button,isModal:!0});l.doProgress({pct:1,text:wpvr_localize.loading+""}),l.doHighlight(),l.attr("work",1),l.attr("action",t),l.attr("url",n),l.doCancel(function(){l.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){l.doShow()},wpvr_localize.continue_button,function(){l.attr("work",0);l.attr("k")},wpvr_localize.cancel_anyway)}),v(0,i,l)}function f(t){var r=t.attr("value"),o=t.attr("id");e(".wpvr_addon_option_select_image[destSelect="+o+"] li").removeClass("active"),""!=r&&e(".wpvr_addon_option_select_image[destSelect="+o+"] li[v="+r+"]").addClass("active")}function h(){e(".wpvrManualOptions").each(function(){var t=e(".cmb_select",e(this));e(this).removeClass("isOn").removeClass("isOff"),"on"==t.attr("value")?e(this).addClass("isOn"):e(this).addClass("isOff")})}function g(t,r,o){var a,n=(e("#"+t.attr("counter_id")),t.val().trim().replace(/(\r\n|\n|\r)/gm,""));a=""!=n?n.split(","):[],a.push(r.trim()),n=a.join(",\n"),t.val(n),console.log(o),e("#"+o+" span").html(a.length)}e("#plugin_update_from_iframe").click(function(t){var r=e(this).attr("data-slug");r.indexOf("wpvr")>-1&&(t.preventDefault(),window.open(e(this).attr("href")))}),e(".wpvr_merge_selected_duplicates").click(function(t){t.preventDefault();var r=e(this),o=r.attr("url"),a=r.attr("is_merging_all"),n=[],i=[];if("1"!=a){var l=wpvr_localize.confirm_merge_items;if(e(".wpvr_video",e(".wpvr_manage_bulk_form")).each(function(){var t=e(this);if(e(".wpvr_video_cb",t).prop("checked")){var r=e(".wpvr_video_merge",t).attr("ids").split(",");i.push(r[0]),n.push.apply(n,r)}}),0==n.length&&!bulk_action)return!1}else{n="all";var l=wpvr_localize.confirm_merge_all_items}return wpvr_confirm(l,function(){wpvr_btn_loading(r,!0);var t=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});e.ajax({type:"POST",url:o+"?wpvr_wpload&merge_items",data:{items:i},success:function(o){wpvr_btn_loading(r,!1),t.remove();var a=wpvr_get_json(o);if(0!=a.status){var n=a.data.exec_time,i=a.data.count.videos,l=a.data.count.duplicates,s=i+" "+wpvr_localize.videos_processed_successfully+".<br/>"+l+" "+wpvr_localize.duplicates_removed_in+" "+n+" "+wpvr_localize.seconds+".",p=_({title:wpvr_localize.wp_video_robot,text:s,isModal:!0,pauseButton:wpvr_localize.ok_button});p.doPause(function(){c(!1,!0),e(".wpvr_manage_bulk_actions_select").fadeOut(),e(".wpvr_manage_checkAll").attr("state","off"),e(".wpvr_manage_bulk_actions_select .wpvr_count_checked").html(""),p.remove()})}},error:function(e,t,r){alert(r)}})},wpvr_localize.yes,function(){},wpvr_localize.cancel_button),!1}),e(".wpvr_popup_info").each(function(){var r=e(this),o=r.attr("popup_content"),a=r.attr("popup_title");r.click(function(r){r.preventDefault(),"undefined"==typeof a&&(a="WP Video Robot"),"undefined"==typeof o&&(o="");var n=_({title:a,text:t(o),pauseButton:wpvr_localize.close_button});e(".wpvr_loading_msg",n).center(),n.doPause(function(){n.doClose()})})}),e(".wpvrArgs td").each(function(){var t=e(this),r=e(".wpvr_wanted_param",t),o=e("input, textarea",t);r.click(function(e){e.preventDefault(),o.val(r.html())})}),e(".wpvr_read_changelog").click(function(r){var o=e(this).attr("changelog_url"),a=e(this).attr("changelog_title");e.ajax({type:"GET",url:o,success:function(r){var o=_({height:"80%",width:"70%",title:a,text:t(r),pauseButton:wpvr_localize.close_button});e(".wpvr_loading_msg",o).center(),o.doPause(function(){o.doClose()})},error:function(e,t,r){alert(r)}})}),e(".wpvr_import_sample_sources").click(function(t){t.preventDefault();var r=e(this),o=r.attr("url"),a=wpvr_add_loading_spinner(r,"pull-right");wpvr_confirm(wpvr_localize.confirm_import_sample_sources,function(){e.ajax({type:"GET",url:o,data:{wpvr_wpload:1,import_sample_sources:1},success:function(e){var t=wpvr_get_json(e);wpvr_remove_loading_spinner(a),wpvr_alert(t.msg)},error:function(e,t,r){alert(r)}})},wpvr_localize.cancelButton,function(){wpvr_remove_loading_spinner(a)})}),e(".wpvr_show_when_loaded").fadeIn(),e(".wpvr_hide_when_loaded").hide(),e("body.post-type-wpvr_source form#post").each(function(){var t=e(this),r=function(){e("#wpvr_metabox_test").attr("ready",0)};e("input",t).change(r),e("select",t).change(r)}),o(),e("#collapse-menu").click(function(e){o()}),e(".wpvr_test_screen_wrap").each(function(){var t=e(this),r=e(".wpvr_videos",t).offset().top,o=e(".wpvr_test_form_buttons.bottom",t);e(window).scroll(function(){var t=e(window).scrollTop()-r;e(window).scrollTop()+e(window).height()>e(document).height()-100?o.hasClass("fixed")&&o.hide().removeClass("fixed").fadeIn():t>50?o.hasClass("fixed")||o.hide().addClass("fixed").fadeIn():o.hide().removeClass("fixed").show()})}),e("#wpvr_video_enableManualAdding").each(function(){var t=e(this);r(t),t.change(function(){r(t)})}),e(".wpvr_embed_video_btn").click(function(t){t.preventDefault();var r=e(this).attr("dialog_title"),o=e(this).attr("msg"),a=e(this).attr("code"),n=_({title:r,text:" "+o+' <br/> <br/><div class="wpvr_embed_code_wrapper">'+a+"</div>",pauseButton:wpvr_localize.ok_button});n.doPause(function(){n.doClose()})}),e("#player_theme").each(function(){var t=e(this);a(t),t.change(function(){a(t)})}),e(".wpvr_option_slider_input_text").each(function(){var t=e(this),r=e("#"+t.attr("slider_id")),o=parseInt(r.attr("slider_min")),a=parseInt(r.attr("slider_max"));t.on("change",function(){var n=e(this).val();o>n&&(n=o),n>a&&(n=a),r.val(n),t.attr("value",n)})}),e(".wpvr_option_slider_range").each(function(){var t=e(this),r=t.attr("slider_input"),o=t.attr("slider_min"),a=t.attr("slider_max"),n=t.attr("slider_value"),i=t.attr("slider_step"),l=e(".wpvr_option_slider_input #"+r);t.wpvrSlider({start:parseInt(n),step:parseInt(i),range:{min:parseInt(o),max:parseInt(a)}}).on("slide",function(){var e=parseInt(t.val());l.val(e)})}),e(".wpvr_option_image_wrap").each(function(){var t=e(this),r=t.attr("default"),o=e(".wpvr_option_image_thumb_button",t),a=e(".wpvr_option_image_thumb",t),n=e(".wpvr_option_image_thumb_input",t);e("body").on("click",".wpvr_option_image_remove",function(e){a.hide().html('<img class="wpvr_option_thumb_img" src="'+r+'" />').fadeIn(),n.val("")}),o.click(function(e){e.preventDefault();var t=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(e){var r=t.state().get("selection").first(),o=r.toJSON().url;n.val(o);var i="";i+='<img class="wpvr_option_thumb_img" src="'+o+'" />',i+='<button class="wpvr_option_image_remove"><i class="fa fa-remove"></i></button>',a.html(i)})})}),e("#wpvr_get_mb_close").click(function(e){e.preventDefault(),window.close()}),e("#wpvr_get_metaboxes").click(function(t){t.preventDefault(),window.open(e(this).attr("url"))}),e(".wpvr_test_form_info").click(function(t){var r=e(this),o=r.attr("msg");t.preventDefault();var a=_({title:wpvr_localize.group_info,text:" "+o,pauseButton:wpvr_localize.ok_button});a.doPause(function(){a.doClose()})}),e(".wpvr_async_btn").each(function(){var t=e(this),r=t.attr("async_start_url"),o=(t.attr("async_single_url"),t.attr("async_confirm_msg"));t.attr("async_processed_msg");t.click(function(a){a.preventDefault(),e.ajax({type:"GET",url:r,success:function(e){if($json=wpvr_get_json(e),"0"==o)n(t,$json.data);else{var r=o.replace("%c%",$json.count);wpvr_confirm(r,function(){n(t,$json.data)},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}},error:function(e,t,r){alert(r)}})})}),jQuery.extend({getQueryParameters:function(e){return(e||document.location.search).replace(/(^\?)/,"").split("&").map(function(e){return e=e.split("="),this[e[0]]=e[1],this}.bind({}))[0]}}),e(".wpvr_async_graph").each(function(){var t=e(this),r=t.attr("day"),o=t.attr("daylabel"),a=t.attr("daytime"),n=t.attr("hex_color"),i=t.attr("chart_id"),l=t.attr("url"),s=e(".inside",t);e(".wpvr_nav_tab#b").click(function(t){setTimeout(function(){e.ajax({type:"GET",url:l+"?wpvr_wpload&render_async_stress_graph",data:{hex_color:n,day:r,daylabel:o,daytime:a,chart_id:i},success:function(t){if($json=wpvr_get_json(t),1!=$json.status)return!1;var r=$json.data.js;wpvr_async_draw_chart(e("#"+r.chart_id),e("#"+r.chart_id+"_legend"),{labels:e.parseJSON(r.labels),datasets:[{label:" Scheduled Sources",fillColor:r.fillColor_bis,strokeColor:r.strokeColor_bis,pointColor:r.pointColor_bis,pointHighlightFill:r.pointHighlightFill,data:e.parseJSON(r.sources)},{label:" Wanted Videos",fillColor:r.fillColor,strokeColor:r.strokeColor,pointColor:r.pointColor,pointHighlightFill:r.pointHighlightFill,data:e.parseJSON(r.videos)},{label:" Max. Wanted Videos",fillColor:r.fillColor_max,strokeColor:r.strokeColor_max,pointColor:r.pointColor_max,pointHighlightFill:r.pointHighlightFill,data:e.parseJSON(r.max)}]},"radar",r.chart_id),e(".wpvr_insite_loading",s).hide(),e(".wpvr_graph_wrapper",s).fadeIn()},error:function(e,t,r){console.log(r)}})},300)})}),e(".wpvr_has_master").each(function(){var t=e(this),r=e("#"+t.attr("master_id")),o=t.attr("master_value").split(",");-1!=o.indexOf(r.val())?t.fadeIn():t.hide(),r.each(function(){"customBefore"==e(this).val()||"customAfter"==e(this).val()?e(".cmb_id_wpvr_source_appendCustomText").show():e(".cmb_id_wpvr_source_appendCustomText").hide()}),r.bind("change",function(){-1!=o.indexOf(r.val())?t.fadeIn():t.hide()})}),e(".wpvr_countup").each(function(){var t=e(this),r=t.attr("count-start"),o=t.attr("count-end");console.log(t);var a=new CountUp(t.attr("id"),r,o,0,2);a.start()}),e(".wpvr_wrap_loading").hide(),e(".wpvr_wrap").fadeIn(),e(".wpvr_super_wrap").css("visibility","visible").hide().fadeIn();var m=0,b=100,k=400;e(".wpvr_wp_notice").each(function(){m++;var t=b+k*m,r=e(this);setTimeout(function(){r.fadeIn()},t)}),e("#wpvr_save_source_btn").click(function(t){t.preventDefault(),e("#publishing-action #publish").trigger("click"),e("#original_post_status").attr("value","publish"),e("#hidden_post_status").attr("value","publish")}),e(".wpvr_manual_import_trigger").click(function(t){t.preventDefault(),e("#publishing-action #publish").trigger("click"),e("#original_post_status").attr("value","publish"),e("#hidden_post_status").attr("value","publish")}),e(".wpvr_do_dialog").click(function(t){t.preventDefault();var r=e(this),o=r.attr("dialog_title"),a=r.attr("dialog_content"),n=r.attr("dialog_button"),i=r.attr("dialog_modal");(""==o||void 0==o)&&(o=wpvr_localize.wp_video_robot),(""==n||void 0==n)&&(n=wpvr_localize.ok_button),i=void 0==i||1!=i?!1:!0;var l=wpvr_show_loading({title:o,text:a,pauseButton:n,isModal:i});l.doPause(function(){l.remove()})}),e(".isMaster").each(function(){var t=e(this),r=t.attr("masterOf").split(","),o=t.attr("masterValue"),a=t.attr("option_type");if("undefined"!=typeof t.attr("tabMasterOf"))var n=t.attr("tabMasterOf").split(",");else var n=[];if("none"==t.css("display"))var i=!1;else var i=!0;"switch"==a&&(e(".wpvr-onoffswitch",t).trigger("click").trigger("click"),e(".wpvr-onoffswitch",t).bind("changeClass",function(){if(e(this).hasClass("wpvr-onoffswitch-checked"))if(i)var t=!0;else var t=!1;else var t=!1;wpvr_control_slaves(r,t),wpvr_control_tab_slaves(n,t)}),e(".wpvr_option_button>.wpvr-onoffswitch",t).each(function(){if(e(this).hasClass("wpvr-onoffswitch-checked"))var t=!0;else var t=!1;wpvr_control_slaves(r,t),wpvr_control_tab_slaves(n,t)})),"select"==a&&(e(".wpvr_option_select",t).bind("change",function(){if(e(this).attr("value")==o)var t=!0;else var t=!1;wpvr_control_slaves(r,t,e(this).attr("value"))}),e(".wpvr_option_select",t).each(function(){if(e(this).attr("value")==o)var t=!0;else var t=!1;wpvr_control_slaves(r,t,e(this).attr("value"))}))}),e(".wpvr_load_asyncr").each(function(){var t=e(this),r=t.attr("url"),o=t.attr("method");void 0==o&&(o="timeout"),"timeout"==o?setTimeout(function(){var o=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});e.ajax({type:"GET",url:r+"",success:function(r){o.remove(),t.html(r),e(".wpvr_nav_tab#a",t).trigger("click"),t.fadeIn()},error:function(e,t,r){alert(r)}})},1e3):t.click(function(t){console.log("clicked"),t.preventDefault();var o=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});e.ajax({type:"GET",url:r+"",success:function(e){response=wpvr_get_json(e),o.remove();var t=wpvr_show_loading({title:"WP Video Robot",text:response.msg.msg,pauseButton:"OK",isModal:!1});t.doPause(function(){t.remove()})},error:function(e,t,r){alert(r)}})})}),e(".wpvr_metabox_button").each(function(){var t=e(this),r=t.attr("url");t.click(function(o){if(o.preventDefault(),t.hasClass("wpvr_isLoading"))return console.log("is loading"),!1;var a=wpvr_add_loading_spinner(t,"pull-right");if(t.hasClass("run"))wpvr_confirm(wpvr_localize.confirm_run_sources,function(){wpvr_remove_loading_spinner(a),t.hasClass("sameWindow")?window.location.href=r:window.open(r)},wpvr_localize.yes,function(){wpvr_remove_loading_spinner(a)},wpvr_localize.cancel_button);else if(wpvr_remove_loading_spinner(a),t.hasClass("test")&&"1"!=t.attr("ready")){var n=_({title:wpvr_localize.wp_video_robot,text:wpvr_localize.save_source_first,pauseButton:wpvr_localize.save_source,cancelButton:wpvr_localize.cancel_button});n.doPause(function(){n.doClose(),e("#wpvr_save_source_btn").trigger("click")}),n.doCancel(function(){n.doClose()})}else t.hasClass("sameWindow")?window.location.href=r:window.open(r)})}),e("select[name=filler_from]").each(function(){var t=e(this);t.change(function(){var r=t.attr("value");"custom_data"==r?e("#filler_from_custom").fadeIn():e("#filler_from_custom").hide()})}),e(".wpvr_selectize_list").each(function(){var t=e(this),r=t.attr("maxItems"),o=t.hasClass("verifyEmail"),a=t;a.selectize({delimiter:",",maxItems:r,persist:!1,create:function(e){if(o){if(wpvr_validate_email(e))return{value:e,text:e};var t=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"Please enter a valid email address.",pauseButton:wpvr_localize.ok_button,isModal:!1});return t.doPause(function(){
t.remove()}),{}}return{value:e,text:e}}})}),e(".wpvr_cmb_selectize").each(function(){function t(t){var r=new Array;e("option",t.currentTarget).each(function(){r.push(e(this).attr("value"))}),str=JSON.stringify(r,null,2),i.attr("value",str)}var r=e(this),o=r.attr("maxItems"),a=e(".cmb_select",r);if(r.hasClass("createItems"))var n=!0;else var n=!1;if(n)var i=e("#wpvr_source_postTags");else var i=e("#wpvr_source_postCats");var l=r.attr("service");if(l)var i=e("#"+l);var s=i.attr("value");if(void 0!=s&&""!=s)var _=JSON.parse(s);else _=!1;if(r.hasClass("createItems"))var n=!0;else var n=!1;if(""!=o)if(n)var c=a.selectize({items:_,delimiter:",",maxItems:o,persist:!1,create:function(e){return{value:e,text:e}}});else var c=a.selectize({maxItems:o,items:_});else c=0!=_?a.selectize({maxItems:null,items:_}):a.selectize({maxItems:null,items:[]});c.on("change",t),c.on("initialize",t)}),e("#wpvr_test_form").fadeIn(),e(".wpvr_show_after_load").fadeIn(),e("#wpvr_options_permalinkBase").change(function(){var t=e(this).attr("value"),r=e("#wpvr_options_customPermalinkBase");"custom"==t?r.fadeIn():r.fadeOut()}),e("#wpvr_options_enableRewriteRule").change(function(){var t=e(this).prop("checked"),r=e(".wpvr_options_enableRewriteRule_helper");t?r.fadeIn():r.fadeOut()}),e("#wpvr_options_enableContentPrefix").change(function(){var t=e(this).prop("checked"),r=e("#wpvr_options_contentPrefix");t?r.fadeIn():r.fadeOut()}),e("#wpvr_options_enableContentSuffix").change(function(){var t=e(this).prop("checked"),r=e("#wpvr_options_contentSuffix");t?r.fadeIn():r.fadeOut()}),e(".wp-switch-editor").click(function(t){var r=e(this),o=r.attr("id").split("-")[0],a=e("#wp-"+o+"-wrap");a.removeClass("html-active").removeClass("tmce-active"),r.hasClass("switch-tmce")?a.addClass("tmce-active"):r.hasClass("switch-html")&&a.addClass("html-active")}),e("#wpvr_filler_list").each(function(){wpvr_filler_update()}),e("body").on("click",".wpvr_filler_remove",function(t){t.preventDefault();var r=e(this).attr("k"),o=e(this).attr("url");wpvr_confirm(wpvr_localize.confirm_remove_filler,function(){e.ajax({type:"GET",url:o+"?remove_filler&wpvr_wpload&k="+r,success:function(e){wpvr_filler_update()},error:function(e,t,r){alert(r)}})},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}),e(".wpvr_field_selectize").each(function(){var t=e(this);if(""!=t.attr("maxItems")){var r=new Array;e("option",t).each(function(){"1"==e(this).attr("c")&&r.push(e(this).attr("value"))});t.selectize({maxItems:t.attr("maxItems"),items:r})}else t.selectize()}),e("body").on("click","#wpvr_filler_delete_all",function(t){t.preventDefault();var r=e(this),o=r.attr("url"),a=wpvr_add_loading_spinner(r,"pull-right"),n=e(this).attr("is_demo");return"1"==n?(boxDemo=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"This is a demo version of WP Video Robot.<br/>For security reasons, you cannot change the options.<br/> Hope you understand.",pauseButton:wpvr_localize.ok_button,isModal:!1}),boxDemo.doPause(function(){boxDemo.remove()}),boxDemo.doRemove(function(){wpvr_remove_loading_spinner(a)}),!1):void wpvr_confirm(wpvr_localize.confirm_delete_fillers,function(){var t=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});e.ajax({type:"GET",url:o+"?delete_all_fillers&wpvr_wpload",success:function(e){t.remove();var r=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.fillers_deleted,cancelButton:wpvr_localize.ok_button,isModal:!1});wpvr_filler_update(),r.doCancel(function(){r.remove(),wpvr_remove_loading_spinner(a)})},error:function(e,t,r){alert(r)}})},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}),e("body").on("click","#wpvr_filler_add_from_preset",function(t){t.preventDefault();var r=e(this),o=e(this).attr("url"),a=e("#filler_preset").attr("value");if(""==a)return boxError=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.select_preset,pauseButton:wpvr_localize.ok_button,isModal:!1}),boxError.doPause(function(){boxError.remove()}),!1;var n=wpvr_add_loading_spinner(r,"pull-right");wpvr_confirm(wpvr_localize.confirm_add_from_preset,function(){var t=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});e.ajax({type:"GET",url:o+"?add_fillers_from_preset&wpvr_wpload&preset="+a,success:function(e){wpvr_filler_update(),t.remove(),wpvr_remove_loading_spinner(n)},error:function(e,t,r){alert(r)}})},wpvr_localize.yes,function(){wpvr_remove_loading_spinner(n)},wpvr_localize.cancel_button)}),e(".wpvr_addons_by_cats").each(function(){var t=e(this),r=e(".wpvr_addons_categories",t),o=e(".wpvr_addons_grid",t);e("button",r).click(function(t){t.preventDefault();var a=e(this);e("button",r).removeClass("wpvr_white_button"),a.addClass("wpvr_white_button"),console.log(o.attr("id"));var n=a.attr("cat");console.log(n),e(".wpvr_addon_box",o).each(function(){var t=e(this);t.hide();var r=e.inArray(n,t.attr("categories").split(","));-1==r?t.hide():t.fadeIn()})})}),e("body").on("click","#wpvr_filler_run",function(t){t.preventDefault();var r=e(this),o=r.attr("url");wpvr_confirm(wpvr_localize.confirm_run_fillers,function(){var t=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter}),a=wpvr_add_loading_spinner(r,"pull-right");e.ajax({type:"GET",url:o+"?run_fillers&wpvr_wpload",success:function(e){$json=wpvr_get_json(e),$data=$json.data,t.remove();var r=wpvr_show_loading({title:"WP Video Robot",text:"<strong>"+$data.found+"</strong> videos found and <strong>"+$data.processed+"</strong> fields processed. ",isModal:!1,pauseButton:wpvr_localize.ok_button});r.doPause(function(){r.remove(),wpvr_remove_loading_spinner(a)}),r.doRemove(function(){wpvr_remove_loading_spinner(a)})},error:function(e,t,r){alert(r)}})},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)});var x=new Clipboard(".wpvr_copy_btn");e(".wpvr_copy_btn").click(function(e){e.preventDefault()}),x.on("success",function(t){var r=e(t.trigger);r.addClass("wpvr_green_button").addClass("done"),setTimeout(function(){r.removeClass("wpvr_green_button").removeClass("done")},500),console.log(r),console.log(r.attr("done"))}),x.on("error",function(e){console.log(e)}),e("#wpvr_filler_add").click(function(t){t.preventDefault();var r=e(this),o=r.attr("url"),a=e("."+r.attr("form")),n=a.serialize(),i=e(".wpvr_filler_input[name=filler_from]",a),l=e(".wpvr_filler_input[name=filler_to]",a),s=wpvr_add_loading_spinner(r,"pull-right");if(""==i.attr("value")||""==l.attr("value")){var _=wpvr_show_loading({title:"WP Video Robot",pauseButton:wpvr_localize.ok_button,isModal:!1,text:wpvr_localize.correct_entry});return _.doPause(function(){_.remove(),wpvr_remove_loading_spinner(s)}),_.doRemove(function(){wpvr_remove_loading_spinner(s)}),!1}e("#wpvr_filler_list").html('<i class="fa fa-cogs fa-spinner"></i>');var c=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});e.ajax({type:"POST",url:o+"?add_filler&wpvr_wpload",data:n,success:function(){c.remove(),wpvr_remove_loading_spinner(s),i.attr("value",""),l.attr("value",""),e("#filler_from_custom").attr("value","").hide(),wpvr_filler_update()},error:function(e,t,r){alert(r)}})}),e(".wpvr_track_dups").click(function(t){t.preventDefault(),window.open(e(this).attr("url"),"_blank")}),e("#wpvr_options_apiConnect").change(function(){d(e(this).val())}),e("#wpvr_options_apiConnect").trigger("change"),e("#wpvr_options_apiConnect").each(function(){d(e(this).attr("value"))}),e(".wpvr_single_unwanted").click(function(t){t.preventDefault();var r=e(this),o=e("i",r),a=r.attr("url"),n=r.attr("post_id"),i=r.attr("action");wpvr_startLoading(o),e.ajax({url:a,type:"GET",data:{wpvr_wpload:1,add_remove_unwanted:1,post_id:n,action:i},success:function(t){$json=wpvr_get_json(t),wpvr_stopLoading(o),1==$json.status&&("remove"==i&&(o.removeClass("fa-undo").addClass("fa-ban"),e("span",r).html(wpvr_localize.add_to_unwanted),r.attr("action","add"),r.removeClass("wpvr_black_button").addClass("wpvr_red_button")),"add"==i&&(o.removeClass("fa-ban").addClass("fa-undo"),e("span",r).html(wpvr_localize.remove_from_unwanted),r.attr("action","remove"),r.addClass("wpvr_black_button").removeClass("wpvr_red_button")))}})}),e(".wpvr_sidebar_toggle").click(function(t){t.preventDefault(),e(this).hasClass("on")?(e(this).removeClass("on"),e(".wpvr_manage_box").removeClass("open")):(e(this).addClass("on"),e(".wpvr_manage_box").addClass("open"))}),e(".wpvr_get_token").click(function(t){t.preventDefault();var r=(e(this).closest(".wpvr_option"),e(this).attr("auth_url")),o=(e(this).attr("local"),e(this).attr("service")),a=e(this).attr("token_input_id"),n=window.open(r,"grant_window","width=730,height=550"),i=window.setInterval(function(){try{var t=e.getQueryParameters(n.document.URL);"undefined"!=typeof t.register_token&&"undefined"!=typeof t.access_token&&""!=t.access_token&&(window.clearInterval(i),box=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:o.toUpperCase()+" "+wpvr_localize.is_now_connected,pauseButton:wpvr_localize.ok_button,isModal:!1}),box.doPause(function(){box.remove(),e("#"+a).attr("value",t.access_token),e(".wpvr_expire").removeClass("red").removeClass("yellow").removeClass("green").removeClass("orange").addClass("green"),e(".wpvr_expire span").html("TOKEN RENEWED")})),-1!=n.document.URL.indexOf("wpvr.options.php")&&(window.clearInterval(i),box=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:o.toUpperCase()+" "+wpvr_localize.is_now_connected,pauseButton:wpvr_localize.ok_button,isModal:!1}),box.doPause(function(){box.remove(),e(".wpvr_token_state[service="+o+"]").addClass("on"),e(".wpvr_grid_option[service="+o+"]").addClass("on")}))}catch(r){}},100)}),e(".wpvr_remove_token").click(function(t){t.preventDefault();var r=e(this).attr("service"),o=e(this).attr("url");e(this).closest(".wpvr_option");wpvr_confirm(wpvr_localize.confirm_cancel_access,function(){e.ajax({url:o,type:"GET",data:{service:r,wpvr_wpload:1,clear_token:1},success:function(t){console.log(t),e(".wpvr_token_state[service="+r+"]").removeClass("on"),e(".wpvr_grid_option[service="+r+"]").removeClass("on")}})},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}),e(".wpvr_addon_options_wrapper").each(function(){var t=e(this),r=e(this).attr("addon_id"),o=e(".wpvr_addons_options_form",t);e(".wpvr_save_addon_options",t).each(function(){var t=e(this),a=t.attr("url"),n=t.attr("tab");t.click(function(i){if(i.preventDefault(),t.hasClass("wpvr_isLoading"))return!1;var l=o.serialize(),s=wpvr_add_loading_spinner(t,"pull-right");e.ajax({type:"POST",data:l,url:a+"?wpvr_wpload&save_addon_options&id="+r+"&tab="+n,success:function(e){if($data=wpvr_get_json(e),1==$data.status){var r=wpvr_show_loading({title:"WP VIDEO ROBOT",text:wpvr_localize.addon_options_saved,cancelButton:wpvr_localize.ok_button,isModal:!1});r.doCancel(function(){r.remove(),wpvr_remove_loading_spinner(s),t.removeClass("wpvr_isLoading")}),r.doRemove(function(){wpvr_remove_loading_spinner(s)})}},error:function(e,t,r){alert(r)}})})}),e(".wpvr_reset_addon_options",t).each(function(){var t=e(this),o=t.attr("url");t.click(function(a){a.preventDefault(),wpvr_confirm(wpvr_localize.options_reset_confirm,function(){var a=wpvr_add_loading_spinner(t,"pull-left");e.ajax({type:"POST",url:o+"?wpvr_wpload&reset_addon_options&id="+r,success:function(){wpvr_remove_loading_spinner(a);var e=wpvr_show_loading({title:"WP VIDEO ROBOT",text:wpvr_localize.options_set_to_default,cancelButton:wpvr_localize.ok_button,isModal:!1});e.doCancel(function(){e.remove(),location.reload()}),box.doRemove(function(){wpvr_remove_loading_spinner(a)})},error:function(e,t,r){alert(r)}})},wpvr_localize.reset_yes,function(){},wpvr_localize.reset_no)})})}),e(".wpvr_manage_import").bind("click",function(t){t.preventDefault();var r=e(this).attr("url"),o=e(this).attr("bulk_url"),a=e(this).attr("buffer"),n="";n+='<form id="form_import_videos" enctype="multipart/form-data">',n+='<label for="upload">Choose a file </label>',n+='<input type="file" id="upload" name="uploadedfile" size="25">',n+="<br/>",n+="<label>Publish</label> ",n+='<select name="publishDate">',n+='	<option value="original">Keep original</option>',n+='	<option value="now" selected="selected">Publish Now</option>',n+="</select>",n+="<br/>",n+="<label> Reset Views </label>",n+='<select name="resetViews">',n+='	<option value="yes">'+wpvr_localize.yes+"</option>",n+='	<option value="no" selected="selected">'+wpvr_localize.yes+"</option>",n+="</select>",n+="<br/>",n+="<label>Skip Duplicates </label>",n+='<select name="skipDup">',n+='	<option value="yes">yes</option>',n+='	<option value="no" selected="selected">No</option>',n+="</select>",n+="</form>",box=wpvr_show_loading({title:wpvr_localize.import_videos,text:n,pauseButton:wpvr_localize.import_btn,cancelButton:wpvr_localize.cancel_button,isModal:!0}),box.doCancel(function(){box.remove()}),box.doPause(function(){var t=e("#upload").attr("value");if(""==t)return!1;var n=e("#form_import_videos"),i=e(".wpvr_loading_pause"),l=wpvr_add_loading_spinner(i),s=new FormData(n[0]);e.ajax({url:r+"?wpvr_wpload&import_videos",type:"POST",data:s,async:!1,cache:!1,contentType:!1,processData:!1,success:function(e){if($data=wpvr_get_json(e),wpvr_remove_loading_spinner(l),"ok"!=$data.status){if("invalid"==$data.status)return alert("Invalid File"),box.remove(),!1}else"0"!=$data.countDup?$data.countDup!=$data.count?wpvr_confirm("FOUND "+$data.countDup+" Duplicates. CONTINUE ?",function(){boxDup.remove(),u($data.items,o,a),box.remove()},wpvr_localize.yes,function(){box.remove()},wpvr_localize.cancel_button):(box.remove(),boxDup=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"There is no new video ! Only dups",pauseButton:wpvr_localize.ok_button,isModal:!0}),boxDup.doPause(function(){boxDup.remove(),box.remove()})):(u($data.items,o,a),box.remove())}})})}),e(".cmb_option[name=wpvr_video_service] , .cmb_option[name=wpvr_source_service]").change(function(){e(".cmb_id_wpvr_pick_a_service").fadeOut(150),e(".cmb_id_wpvr_video_enableManualAdding").fadeIn(150),e(".cmb_id_wpvr_video_disableAutoEmbed ").fadeIn(150),e(".cmb_id_wpvr_source_type").fadeIn(150)}),e("[id=publish]").each(function(){e(this).click(function(t){var r=e(".cmb_id_wpvr_source_service"),o=e(this),a=0,n=!0;if(r.hasClass("canBeEmpty"))var i=!0;else var i=!1;t.preventDefault();var l="none";e(".cmb_option[name=wpvr_source_service]").each(function(){e(this).prop("checked")&&(l=e(this).val())});var s=e("#wpvr_source_name").attr("value"),_=r.attr("service"),c=e("#wpvr_source_wantedVideos").attr("value");if(e(".cmb_option[name=wpvr_source_type]").each(function(){a++,e(this).prop("checked")&&l==e(this).attr("service")&&(n=!1)}),0!=a&&n)box=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.source_with_no_type,pauseButton:wpvr_localize.ok_button,isModal:!0}),box.doPause(function(){box.remove()});else{if(""!=_&&parseInt(c)>parseInt(_))return box=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.source_with_big_wanted,pauseButton:wpvr_localize.ok_button,isModal:!0}),box.doPause(function(){box.remove()}),!1;i||""!=s?o.unbind("click").click():wpvr_confirm(wpvr_localize.source_with_no_name,function(){o.unbind("click").click()},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}})}),setTimeout(function(){e(".wpvr_manage_content").each(function(){return"1"!=e(this).attr("refresh_once")?!1:void("1"==e(this).attr("is_fresh")&&(e(this).attr("is_fresh","0"),c(!1,!0,1)))})},200),e(".wpvr_manage_exportAll").live("click",function(t){t.preventDefault();var r=e(this).attr("url"),o=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});e.ajax({type:"GET",url:r+"?wpvr_wpload&export_all_videos",success:function(t){o.remove(),e(".wpvr_manage_message").html('<iframe id="wpvr_iframe" src="" style="display:none; visibility:hidden;"></iframe>'),e("#wpvr_iframe").attr("src",t)},error:function(e,t,r){alert(r)}})}),e(".wpvr_select_page").on("change",function(){var t=e(this).attr("value"),r=e(this).attr("url");window.location.href=r+"&p="+t}),e(".wpvr_select_service").on("change",function(){var t=e(this).attr("value"),r=e(this).attr("url");window.location.href=r+"&service="+t}),e(".wpvr_manage_pageButton").live("click",function(){var t=e(this).attr("page");e("#wpvr_page").val(t),c(!1,!0,t)}),e(".wpvr_manage_bulkApply").click(function(t){t.preventDefault();var r=e(".wpvr_manage_bulk_actions_select").attr("value");if("export"==r){var o=e("form.wpvr_manage_main_form"),a=o.attr("url")+"?wpvr_wpload&export_videos",n=o.serialize(),i=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});e.ajax({type:"POST",url:a,data:n,success:function(t){i.remove(),e(".wpvr_manage_message").html('<iframe id="wpvr_iframe" src="" style="display:none; visibility:hidden;"></iframe>'),e("#wpvr_iframe").attr("src",t),console.log(t)},error:function(e,t,r){alert(r)}})}else"delete"==r?wpvr_confirm(wpvr_localize.want_remove_items,function(){w()},wpvr_localize.yes,function(){},wpvr_localize.cancel_button):w()}),e(".wpvr_manage_checkAll").each(function(){e(this).bind("click",function(t){t.preventDefault();var r=e("#wpvr_manage_videos");"off"==e(this).attr("state")?(e(".wpvr_video_cb",r).prop("checked",!0),e(".wpvr_video",r).addClass("checked"),e(".wpvr_manage_checkAll").attr("state","on")):(e(".wpvr_video_cb",r).prop("checked",!1),e(".wpvr_video",r).removeClass("checked"),e(".wpvr_manage_checkAll").attr("state","off")),wpvr_count_checked()})}),e(".wpvr_manage_box").each(function(){var t=e(this),r=e(".wpvr_manage_box_head ",t);r.click(function(e){e.preventDefault(),t.toggleClass("open")})}),e(".wpvr_page").live("change",function(){c(!1,!0)}),e(".wpvr_manage_refresh").bind("click",function(e){e.preventDefault(),c(!1,!0)}),e(".wpvr_manage_search_button").bind("click",function(e){e.preventDefault(),c(!1,!0)}),e(".wpvr_manage_check_ul li").each(function(){var t=e(this),r=e("input[type=checkbox]",t);r.change(function(){r.prop("checked")?t.addClass("checked"):t.removeClass("checked");var o=0;e(".wpvr_manage_check_ul li input[type=checkbox]").each(function(){e(this).prop("checked")&&o++}),o>=1?e(".wpvr_manage_is_filtering").attr("value","1"):e(".wpvr_manage_is_filtering").attr("value","0")})}),e(".wpvr_layout_btn").bind("click",function(t){t.preventDefault();var r=e(this).attr("layout");e(".wpvr_layout_btn").removeClass("active"),e(this).addClass("active"),e("#wpvr_manage_videos").removeClass("bgrid").removeClass("sgrid").removeClass("grid").removeClass("list"),e("#wpvr_manage_videos").addClass(r),e(".wpvr_manage_layout_hidden").attr("value",r)}),e(".wpvr_wh_updater").each(function(){e(this).bind("change",function(){var t=e("#wpvr_options_wakeUpHoursA").attr("value"),r=e("#wpvr_options_wakeUpHoursB").attr("value"),o=e("#wpvr_options_wakeUpHours_graph"),a=o.attr("url");console.log(a),e.ajax({type:"GET",data:{start:t,end:r},url:a+"?wpvr_wpload&update_wakeUpHours",success:function(e){o.html(e)},error:function(e,t,r){alert(r)}})})}),e(".countMyItems").each(function(){var t=e(this),r=t.attr("prefix")+t.attr("listener"),o=e("#"+r),a=e(".wpvr_count_items",t);wpvr_update_count(o,a),o.bind("keyup",function(){wpvr_update_count(o,a)}),o.bind("change",function(){console.log("Listener Changed"),wpvr_update_count(o,a)})}),e("#wpvr_source_videoIds").each(function(){wpvr_update_count(e(this),e(".wpvr_count_videos")),e(this).bind("keyup",function(){wpvr_update_count(e(this),e(".wpvr_count_videos"))})}),e("#wpvr_source_groupIds").each(function(){wpvr_update_count(e(this),e(".wpvr_count_groups")),e(this).bind("keyup",function(){wpvr_update_count(e(this),e(".wpvr_count_groups"))})}),e("#wpvr_source_playlistIds").each(function(){wpvr_update_count(e(this),e(".wpvr_count_playlists")),e(this).bind("keyup",function(){wpvr_update_count(e(this),e(".wpvr_count_playlists"))})}),e("#wpvr_source_channelIds").each(function(){wpvr_update_count(e(this),e(".wpvr_count_channels")),e(this).bind("keyup",function(){wpvr_update_count(e(this),e(".wpvr_count_channels"))})}),e("#wpvr_source_videoIds_dm").each(function(){wpvr_update_count(e(this),e(".wpvr_count_videos_dm")),e(this).bind("keyup",function(){wpvr_update_count(e(this),e(".wpvr_count_videos_dm"))})}),e(".wpvr_make_switch").each(function(){var t=e(this),r=t.attr("id"),o=t.attr("class"),a=t.attr("name");if(t.prop("checked"))var n=' checked = "checked" ';else var n="";var i='<div class="wpvr-onoffswitch"><input type="checkbox" name="'+a+'" class="wpvr-onoffswitch-checkbox '+o+'" id="'+r+'" '+n+' /><label class="wpvr-onoffswitch-label" for="'+r+'"><span class="wpvr-onoffswitch-inner"><span class="wpvr-onoffswitch-active"><span class="wpvr-onoffswitch-switch">ON</span></span><span class="wpvr-onoffswitch-inactive"><span class="wpvr-onoffswitch-switch">OFF</span></span></span></label></div>';t.after(e(i)),t.remove()}),e(".wpvr-onoffswitch-label").live("click",function(){var t=e(this),r=t.parent();e(".wpvr-onoffswitch-checkbox",r).get(0);r.toggleClass("wpvr-onoffswitch-checked").trigger("changeClass")}),e("body").on("click","#wpvr_system_infos",function(t){t.preventDefault();var r=e(this);if(r.hasClass("wpvr_isLoading"))return!1;var o=r.attr("url"),a=wpvr_add_loading_spinner(r,"pull-left");e.ajax({type:"GET",url:o+"?wpvr_wpload&system_infos",success:function(t){var r=wpvr_get_json(t);wpvr_remove_loading_spinner(a);var n=wpvr_show_loading({title:wpvr_localize.system_infos,text:r.data,cancelButton:wpvr_localize.close_button,pauseButton:wpvr_localize.export_button}),i=e(".wpvr_loading_pause",n);n.doPause(function(){var t=wpvr_add_loading_spinner(i,"pull-left");e.ajax({type:"GET",url:o+"?wpvr_wpload&system_infos&do_export",success:function(r){e("#wpvr_export").html(r),wpvr_remove_loading_spinner(t)},error:function(e,t,r){alert(r)}})}),n.doCancel(function(){n.doClose(),wpvr_remove_loading_spinner(a)}),n.doRemove(function(){wpvr_remove_loading_spinner(a)})},error:function(e,t,r){alert(r)}})}),e(".wpvr_addon_option_select_image").each(function(){var t=e(this),r=e("#"+t.attr("destSelect"));e("li",t).click(function(t){t.preventDefault();var o=e(this);e(".wpvr_addon_option_select_image li").removeClass("active"),o.addClass("active"),r.val(o.attr("v"))})}),e("#post_template").change(function(){f(e(this))}),f(e("#post_template")),e("body").on("click",".wpvr_nav_tab",function(t){t.preventDefault();var r=e(this).attr("id"),o=e(this).attr("destid");return e(this).hasClass("isLink")?(window.open(e(this).attr("href"),"_blank"),!1):e(this).hasClass("noTab")?!1:(e(".wpvr_nav_tab").removeClass("active"),e(this).addClass("active"),e("#wpvr_options_wrapper .wpvr_option").hide(),"undefined"!=typeof o?(e("#"+o+" .wpvr_nav_tab_content").hide(),e("#"+o+" .wpvr_nav_tab_content.tab_"+r).fadeIn(),e("#"+o+" .wpvr_option.tab_"+r+"[skipFade!=1]").not(".tabFix").fadeIn()):(e(".wpvr_nav_tab_content").hide(),e(".wpvr_nav_tab_content.tab_"+r).fadeIn(),e(".wpvr_option.tab_"+r+"[skipFade!=1]").not(".tabFix").fadeIn()),void e(".wpvr_wrap").css("visibility","visible"))}),e("body").on("click",".wpvr_nav_link",function(t){t.preventDefault();var r=e(this).attr("href");return window.open(r),e(".wpvr_nav_tab#b").trigger("click"),!1}),e(".wpvr_nav_tab.active").trigger("click"),e(".wpvr_addons_wrapper").fadeIn(),e("body").on("click",".wpvr_addons_tab",function(t){t.preventDefault();var r=e(this).attr("addon_id");e(".wpvr_addons_tab").removeClass("active"),e(this).addClass("active"),e(".wpvr_addon_content").hide(),e(".wpvr_addon_content#"+r).fadeIn(),e(".wpvr_addons_wrapper").css("visibility","visible")}),e(".wpvr_addons_tab.active").trigger("click"),e("body").on("click",".wpvr_add_schedule",function(t){t.preventDefault();var r=e(this);if(r.hasClass("wpvr_isLoading"))return!1;var o="";o+='<form class="wpvr_schedule_add_form">',o+="<label>Pick a source :</label><br/>",o+="",o+="</form>",box=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:o,pauseButton:wpvr_localize.ok_button,cancelButton:wpvr_localize.cancel_button,isModal:!1}),box.doPause(function(){box.remove()})}),e("body").on("click",".wpvr_save_options",function(t){t.preventDefault();var r=e(this);if(r.hasClass("wpvr_isLoading"))return!1;var o=e("#wpvr_options_wantedVideos").attr("max_value"),a=e("#wpvr_options_wantedVideos").attr("value");if(""!=o&&parseInt(a)>parseInt(o)){var n=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.source_with_big_wanted,pauseButton:wpvr_localize.ok_button,isModal:!0});return n.doPause(function(){n.remove()}),!1}var i=e("#wpvr_options"),l=i.serialize(),s=wpvr_add_loading_spinner(r,"pull-right"),_=i.attr("action"),c=i.attr("is_demo");return"1"==c?(boxDemo=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"This is a demo version of WP Video Robot.<br/>For security reasons, you cannot change the options.<br/> Hope you understand.",pauseButton:wpvr_localize.ok_button,isModal:!1}),boxDemo.doPause(function(){boxDemo.remove()}),boxDemo.doRemove(function(){wpvr_remove_loading_spinner(s)}),!1):(r.addClass("isLoading"),void e.ajax({type:"POST",url:_+"?wpvr_wpload&save_options",data:l,success:function(e){if($data=wpvr_get_json(e),1==$data.status){var t=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.options_saved,pauseButton:wpvr_localize.ok_button});t.doPause(function(){t.remove(),wpvr_remove_loading_spinner(s)}),t.doRemove(function(){wpvr_remove_loading_spinner(s)})}else console.log(e)},error:function(e,t,r){alert(r)}}))}),e("body").on("click",".wpvr_setter_button",function(t){t.preventDefault();var r=e(this),o=r.attr("url"),a=r.attr("action"),n=(r.attr("is_demo"),r.attr("show_result"));if(r.hasClass("wpvr_isLoading"))return!1;var i=wpvr_add_loading_spinner(r,"pull-right");e.ajax({type:"GET",url:o+"?wpvr_wpload&"+a,success:function(e){if(e=wpvr_get_json(e),data=e.data,1==n){var t=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:data,pauseButton:wpvr_localize.ok_button});t.doPause(function(){t.remove(),wpvr_remove_loading_spinner(i)}),t.doRemove(function(){wpvr_remove_loading_spinner(i)})}else if("ok"==data){var t=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.action_done,pauseButton:wpvr_localize.ok_button});t.doPause(function(){t.remove(),wpvr_remove_loading_spinner(i)}),t.doRemove(function(){wpvr_remove_loading_spinner(i)})}},error:function(e,t,r){alert(r)}})}),e("body").on("click",".wpvr_reset_single_addon_licence",function(t){t.preventDefault();var r=e(this),o=r.attr("slug"),a=r.attr("url")+"?wpvr_wpload&reset_single_addon_licence&slug="+o;return r.hasClass("wpvr_isLoading")?!1:(e("i",r).addClass("fa-spin"),void wpvr_confirm(wpvr_localize.licence_reset_confirm,function(){r.addClass("isLoading"),e.ajax({type:"GET",url:a,success:function(t){if(e("i",r).removeClass("fa-spin"),$json=wpvr_get_json(t),0==$json.status)var o="Reset Error : <br/>".$json.msg;else{var o=$json.msg;e("#wpvr_addon_licence_"+$json.data).removeClass("fail").removeClass("success").html(""),e("#licence_"+$json.data).attr("value","").attr("is_activated","0")}var a=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:o,pauseButton:wpvr_localize.ok_button});a.doPause(function(){a.remove()}),a.doRemove(function(){}),r.removeClass("isLoading")},error:function(e,t,r){alert(r)}})},wpvr_localize.reset_yes,function(){e("i",r).removeClass("fa-spin")},wpvr_localize.reset_no))}),e("body").on("click","#wpvr_reset_addon_licences",function(t){t.preventDefault();var r=e(this),o=r.attr("url")+"?wpvr_wpload&reset_addon_licenses";if(r.hasClass("wpvr_isLoading"))return!1;var a=wpvr_add_loading_spinner(r,"pull-right");wpvr_confirm(wpvr_localize.options_reset_confirm,function(){r.addClass("isLoading"),e.ajax({type:"GET",url:o,success:function(e){if("reset_ok"==wpvr_curate(e)){var t=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.options_set_to_default,pauseButton:wpvr_localize.ok_button});t.doPause(function(){t.remove(),wpvr_remove_loading_spinner(a),location.reload()}),t.doRemove(function(){wpvr_remove_loading_spinner(a)})}r.removeClass("isLoading")},error:function(e,t,r){alert(r)}})},wpvr_localize.reset_yes,function(){wpvr_remove_loading_spinner(a)},wpvr_localize.reset_no)}),e("body").on("click","#wpvr_reset_activation",function(t){t.preventDefault();var r=e(this);if(r.hasClass("wpvr_isLoading"))return!1;var o=r.attr("is_demo");if("1"==o)return boxDemo=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"This is a demo version of WP Video Robot.<br/>For security reasons, you cannot change the options.<br/> Hope you understand.",pauseButton:wpvr_localize.ok_button,isModal:!1}),boxDemo.doPause(function(){boxDemo.remove()}),!1;var a=r.attr("url")+"?wpvr_wpload&reset_activation",n=wpvr_add_loading_spinner(r,"pull-right");wpvr_confirm(wpvr_localize.options_reset_confirm,function(){r.addClass("isLoading"),e.ajax({type:"GET",url:a,success:function(e){if($data=wpvr_get_json(e),1==$data.status){var t=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.license_reset,pauseButton:wpvr_localize.ok_button});t.doPause(function(){t.remove(),location.reload()}),t.doRemove(function(){wpvr_remove_loading_spinner(n)})}wpvr_remove_loading_spinner(n)},error:function(e,t,r){alert(r)}})},wpvr_localize.reset_yes,function(){wpvr_remove_loading_spinner(n)},wpvr_localize.reset_no)}),e("body").on("click","#wpvr_cancel_activation",function(t){t.preventDefault();var r=e(this);if(r.hasClass("wpvr_isLoading"))return!1;var o=r.attr("is_demo");if("1"==o)return boxDemo=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"This is a demo version of WP Video Robot.<br/>For security reasons, you cannot change the options.<br/> Hope you understand.",pauseButton:wpvr_localize.ok_button,isModal:!1}),boxDemo.doPause(function(){boxDemo.remove()}),!1;var a=r.attr("url")+"?wpvr_wpload&cancel_activation",n=wpvr_add_loading_spinner(r,"pull-right");wpvr_confirm(wpvr_localize.activation_cancel_confirm,function(){r.addClass("isLoading"),e.ajax({type:"GET",url:a,success:function(e){if($data=wpvr_get_json(e),1==$data.status){var t=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.license_cancelled,pauseButton:wpvr_localize.ok_button});t.doPause(function(){t.remove(),location.reload()}),t.doRemove(function(){wpvr_remove_loading_spinner(n)})}wpvr_remove_loading_spinner(n)},error:function(e,t,r){alert(r)}})},wpvr_localize.reset_yes,function(){wpvr_remove_loading_spinner(n)},wpvr_localize.reset_no)}),e("body").on("click","#wpvr_register_addon_licenses",function(t){t.preventDefault();var r=[],o=e(this),a=e("#wpvr_register_addons_licences_form"),n=(a.serialize(),wpvr_add_loading_spinner(o,"pull-right")),i=a.attr("action");e(".wpvr_license_input",a).each(function(){var t=e(this);""!=t.attr("value")&&"0"==t.attr("is_activated")?r.push({slug:t.attr("slug"),version:t.attr("version"),code:t.attr("value")}):e("#wpvr_addon_licence_"+t.attr("slug")).removeClass("fail").removeClass("success").html("")});var l=JSON.stringify(r);if("[]"==l){wpvr_remove_loading_spinner(n);var s=wpvr_show_loading({title:"WP Video Robot",text:"There is no new purchase code to activate.",pauseButton:wpvr_localize.ok_button});return s.doPause(function(){s.remove(),wpvr_remove_loading_spinner(n)}),s.doRemove(function(){wpvr_remove_loading_spinner(n)}),!1}e.ajax({type:"POST",url:i+"?wpvr_wpload&register_addon_licenses",data:{email:e("#act_email",a).attr("value"),domain:e("#act_domain",a).attr("value"),url:e("#act_url",a).attr("value"),ip:e("#act_ip",a).attr("value"),items:l},success:function(t){var r=0,o=0,a=0;$json=wpvr_get_json(t),e.each($json.data,function(t,n){var i=e("#wpvr_addon_licence_"+t);i.hide().removeClass("fail").removeClass("success"),1==n.status?(e("#licence_"+t).attr("is_activated","1"),i.addClass("success").html(n.msg).fadeIn(),r++):0==n.status?(e("#licence_"+t).attr("is_activated","0"),i.addClass("fail").html(n.msg).fadeIn(),o++):(a++,i.addClass("success").fadeIn())});var i="Licenses saved. <br/><br/><strong>"+r+"</stong> new activation(s). <br/><strong>"+o+"</stong> activation error(s). <br/>";if(1==$json.status){wpvr_remove_loading_spinner(n);
var l=wpvr_show_loading({title:"WP Video Robot",text:i,pauseButton:wpvr_localize.ok_button});l.doPause(function(){l.remove(),wpvr_remove_loading_spinner(n)}),l.doRemove(function(){wpvr_remove_loading_spinner(n)})}else console.log(t)},error:function(e,t,r){alert(r)}})}),e("body").on("click","#wpvr_verify_purchase_code",function(t){t.preventDefault();var r=e(this),o=e("#wpvr_options_purchaseCode").attr("value"),a=r.attr("url");if(""==o)return!1;var n=wpvr_add_loading_spinner(r,"pull-right");r.addClass("isLoading"),e.ajax({type:"POST",url:a+"?wpvr_wpload&verify_purchase_code",data:{purchaseCode:o},success:function(t){wpvr_remove_loading_spinner(n),e("#wpvr_verify_purchase_code_result").html(t),r.removeClass("isLoading")},error:function(e,t,r){alert(r)}})}),e("body").on("click","#wpvr_export_options",function(t){t.preventDefault();var r=e(this);if(r.hasClass("wpvr_isLoading"))return!1;var o=r.attr("url");r.addClass("isLoading");var a=wpvr_add_loading_spinner(r,"pull-left");e.ajax({type:"GET",url:o+"?wpvr_wpload&export_options",success:function(t){e("#wpvr_export").html(t),wpvr_remove_loading_spinner(a)},error:function(e,t,r){alert(r)}})}),e("#backBtn").live("click",function(e){return e.preventDefault(),window.history.go(-1),!1}),e("body").on("click","#wpvr_reset_options",function(t){t.preventDefault();var r=e(this);if(r.hasClass("wpvr_isLoading"))return!1;var o=e(this).attr("url"),a=e("#wpvr_options").attr("is_demo"),n=wpvr_add_loading_spinner(r,"pull-left");return"1"==a?(boxDemo=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"This is a demo version of WP Video Robot.<br/>For security reasons, you cannot change the options.<br/> Hope you understand.",pauseButton:wpvr_localize.ok_button,isModal:!1}),boxDemo.doPause(function(){boxDemo.remove(),wpvr_remove_loading_spinner(n)}),boxDemo.doRemove(function(){wpvr_remove_loading_spinner(n)}),!1):void wpvr_confirm(wpvr_localize.options_reset_confirm,function(){var t=(e("#wpvr_options"),o+"?wpvr_wpload&reset_options");e.ajax({type:"GET",url:t,success:function(e){if($data=wpvr_get_json(e),1==$data.status){var t=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.options_set_to_default,pauseButton:wpvr_localize.ok_button});t.doPause(function(){t.remove(),wpvr_remove_loading_spinner(n),location.reload()})}},error:function(e,t,r){alert(r)}})},wpvr_localize.reset_yes,function(){wpvr_remove_loading_spinner(n)},wpvr_localize.reset_no)}),e("body").on("click",".wpvr_option",function(t){var r=e(this),o=e("input[type=checkbox]",r),a=o.attr("name");if(void 0===a)return!1;var n=a.split("wpvr_options_"),i=e(".enabledBy_"+n[1]);o.change(function(){r.removeClass("on").removeClass("off"),e(this).prop("checked")?(r.addClass("on"),i.removeAttr("readonly","").removeAttr("disabled","")):(r.addClass("off"),i.attr("readonly","").attr("disabled",""))})}),e("body").on("click",".wpvr_option a.link",function(t){window.open(e(this).attr("href"),"_blank")}),e(".wpvr_log_page_select").bind("change",function(){var t=e(this).attr("page_url"),r=e(this).attr("period"),o=e(this).attr("value"),a=t+"&page_num="+o+"&period="+r;window.location.href=a}),e(".wpvr_log_period_select").bind("change",function(){var t=e(this).attr("page_url"),r=e(this).attr("value"),o=t+"&period="+r;window.location.href=o}),e(".wpvr_refresh_log").bind("click",function(){window.location.reload()}),e(".wpvr_refresh_page").bind("click",function(e){e.preventDefault(),window.location.reload()}),e(".wpvr_goToTop").live("click",function(t){t.preventDefault(),e("html, body").animate({scrollTop:0},"slow")}),e(".wpvr_clear_log").bind("click",function(){var t=e(this).attr("reset_url");wpvr_confirm(wpvr_localize.want_clear_log,function(){window.location.href=t},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}),e(".wpvr_source_toggle").bind("change",function(){var t=e(this).attr("id"),r=e("#toggle_"+t),o=r.attr("status");o="off"==o?"on":"off";var a=r.attr("url"),n=e("#toggle_loading_"+t);n.fadeIn(),e.ajax({type:"POST",url:a,data:{ids:t,status:o},success:function(e){n.hide()},error:function(e,t,r){alert(r)}})}),wpvr_relatedShowHide(),e("#doaction").bind("click",function(t){t.preventDefault();var r=e("#bulk-action-selector-top").attr("value"),o=e(this);if("delete"==r)wpvr_confirm(wpvr_localize.confirm_delete_permanently,function(){o.unbind("click").click()},wpvr_localize.yes,function(){},wpvr_localize.cancel_button);else if("export"==r)e(this).unbind("click").click();else{if("edit"==r)return!1;e(this).unbind("click").click()}}),e("#wpvr_channel_add_id").bind("click",function(){var t=e("#"+e(this).attr("target")),r=e("#wpvr_channel_id").attr("value"),o=t.val();""!=o?(o=o.split(","),o.push(r),o=o.join(",")):o=r,t.val(o),e("#wpvr_channel_id").val("")}),e("#wpvr_channel_button_reset").bind("click",function(){e("#wpvr_channel_id").attr("value",""),e("#wpvr_channel_username").attr("value",""),e("#wpvr_channel_error").html("").hide(),e("#wpvr_channel_zone").hide()}),e("#wpvr_channel_retreive").bind("click",function(){var t=e(this),r=e("#wpvr_channel_username").attr("value"),o=e("#wpvr_channel_username").attr("service"),a=t.attr("url");if(""==r)return!1;var n=wpvr_add_loading_spinner(t,"pull-right");e.ajax({type:"POST",url:a+"?wpvr_wpload&retrieve_channel",data:{username:r,service:o},success:function(t){var r=wpvr_get_json(t);if(console.log(r),0!=r.status)e("#wpvr_channel_id").attr("value",r.data.trim()),e("#wpvr_channel_zone").show();else{var o=wpvr_show_loading({title:wpvr_localize.error,text:r.msg,pauseButton:wpvr_localize.ok_button,isModal:!1});o.doPause(function(){o.remove()})}wpvr_remove_loading_spinner(n)},error:function(e,t,r){alert(r)}})}),e(".wpvr_test_form_add").bind("click",function(){var t=e(this),r=t.attr("session"),o=e("#wpvr_test_form"),a=o.attr("url"),n=[];if(e(".wpvr_video_cb",o).each(function(){var t=e(this);t.prop("checked")&&n.push(t.attr("name"))}),0==n.length)return!1;var i=wpvr_add_loading_spinner(t,"pull-right"),l=wpvr_show_loading({title:wpvr_localize.work_in_progress,text:wpvr_localize.please_wait+"...",isModal:!0}),s=n.length;e.ajax({type:"POST",url:a+"?wpvr_wpload&test_add_videos",data:{videos:n,session:r},success:function(e){var t=e+" / "+s+" "+wpvr_localize.videos_added_successfully+".";l.remove();var r=wpvr_show_loading({title:wpvr_localize.work_completed,text:t,pauseButton:wpvr_localize.ok_button,isModal:!1});r.doPause(function(){r.remove()}),wpvr_remove_loading_spinner(i)},error:function(e,t,r){alert(r)}})}),e(".wpvr_test_form_remove").bind("click",function(t){t.preventDefault();var r=e(this);if(r.hasClass("wpvr_isLoading"))return!1;var o=e("#wpvr_test_form"),a=o.attr("url"),n=o.attr("action"),i=[];if(e(".wpvr_video_cb",o).each(function(){var t=e(this);t.prop("checked")&&i.push(t.attr("name"))}),0==i.length)return!1;var l=wpvr_add_loading_spinner(r,"pull-right");wpvr_confirm(wpvr_localize.want_remove_items,function(){var t=wpvr_show_loading({title:wpvr_localize.work_in_progress,text:wpvr_localize.please_wait+"...",isModal:!0}),r=i.length;e.ajax({type:"POST",url:a+"?wpvr_wpload&"+n,data:{videos:i},success:function(a){var n=a+" / "+r+" "+wpvr_localize.videos_removed_successfully+".";t.remove();var i=wpvr_show_loading({title:wpvr_localize.work_completed,text:n,cancelButton:wpvr_localize.ok_button,isModal:!1});i.doCancel(function(){i.remove(),wpvr_remove_loading_spinner(l),e("#wpvr_test_form_refresh").trigger("click")}),wpvr_remove_loading_spinner(l);var s=parseInt(e(".wpvr_count_deferred").html())-parseInt(a);e(".wpvr_count_deferred").html(s),0==s&&(e(".wpvr_deferred_videos").fadeOut("slow").remove(),e(".wpvr_nothing").fadeIn(),e(".wpvr_test_form_buttons").hide()),e(".wpvr_video.checked",o).remove()},error:function(e,t,r){alert(r)}})},wpvr_localize.yes,function(){wpvr_remove_loading_spinner(l)},wpvr_localize.cancel_button)}),e(".wpvr_test_form_unwanted").bind("click",function(t){t.preventDefault();var r=e(this),o=r.attr("session");if(r.hasClass("wpvr_isLoading"))return!1;var a=e("#wpvr_test_form"),n=a.attr("url"),i=[];if(e(".wpvr_video_cb",a).each(function(){var t=e(this),r={video_id:t.attr("name"),div_id:t.attr("div_id")};t.prop("checked")&&i.push(r)}),0==i.length)return!1;var l=wpvr_add_loading_spinner(r,"pull-right"),_=wpvr_show_loading({title:wpvr_localize.adding_selected_videos,text:wpvr_localize.work_in_progress+"...",progressBar:!0,cancelButton:wpvr_localize.cancel_button,pauseButton:wpvr_localize.pause_button,isModal:!0});_.doProgress({pct:1,text:wpvr_localize.loading+""}),_.doHighlight(),_.attr("work",1),_.attr("pause","false"),_.attr("spinner_id",l.attr("id")),_.attr("session",o),pause_function=function(){var t=e(".wpvr_loading_pause",_),r=_.attr("k"),o=_.attr("pause");"false"!=o?(_.doHighlight(),_.attr("pause","false"),t.html(wpvr_localize.pause_button),_.doText(wpvr_localize.work_in_porogress+"..."),s(parseInt(r)+1,i,n,_)):(_.stopHighlight(),_.attr("pause",123),t.html(wpvr_localize.continue_button),_.doText(wpvr_localize.work_paused))},_.doCancel(function(){_.attr("pause","false"),pause_function(),_.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){_.doShow(),pause_function()},wpvr_localize.continue_button,function(){_.attr("work",0);var e=_.attr("k");s(parseInt(e),i,n,_),wpvr_remove_loading_spinner(l)},wpvr_localize.cancel_anyway)}),_.doPause(pause_function),s(0,i,n,_)}),e(".wpvr_test_form_add_each").bind("click",function(t){t.preventDefault();var r=e(this),o=r.attr("session"),a=e("#wpvr_test_form"),n=a.attr("url");is_deferred=r.attr("is_deferred");var i=[];if(e(".wpvr_video_cb",a).each(function(){var t=e(this),r={video_id:t.attr("name"),div_id:t.attr("div_id")};t.prop("checked")&&i.push(r)}),0==i.length)return!1;var s=wpvr_add_loading_spinner(r,"pull-right"),_=wpvr_show_loading({title:wpvr_localize.adding_selected_videos,text:wpvr_localize.work_in_progress+"...",progressBar:!0,cancelButton:wpvr_localize.cancel_button,pauseButton:wpvr_localize.pause_button,isModal:!0});_.doProgress({pct:1,text:wpvr_localize.loading+""}),_.doHighlight(),_.attr("work",1),_.attr("pause","false"),_.attr("is_deferred",is_deferred),_.attr("spinner_id",s.attr("id")),_.attr("session",o),pause_function=function(){var t=e(".wpvr_loading_pause",_),r=_.attr("k"),o=_.attr("pause");"false"!=o?(_.doHighlight(),_.attr("pause","false"),t.html(wpvr_localize.pause_button),_.doText(wpvr_localize.work_in_porogress+"..."),l(parseInt(r)+1,i,n,_)):(_.stopHighlight(),_.attr("pause",123),t.html(wpvr_localize.continue_button),_.doText(wpvr_localize.work_paused))},_.doCancel(function(){_.attr("pause","false"),pause_function(),_.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){_.doShow(),pause_function()},wpvr_localize.continue_button,function(){_.attr("work",0);var e=_.attr("k");l(parseInt(e),i,n,_),wpvr_remove_loading_spinner(s)},wpvr_localize.cancel_anyway)}),_.doPause(pause_function),l(0,i,n,_)}),e(".wpvr_check_all_section").bind("click",function(t){t.preventDefault();var r=e(this).attr("zone_id"),o=e("#zone_"+r),a=e(this).attr("state");"off"==a?(e(".wpvr_video_cb",o).prop("checked",!0),e(".wpvr_video",o).addClass("checked"),e(this).attr("state","on")):(e(".wpvr_video_cb",o).prop("checked",!1),e(".wpvr_video",o).removeClass("checked"),e(this).attr("state","off")),wpvr_count_checked()}),e(".wpvr_test_form_toggleAll").each(function(){e(this).bind("click",function(t){t.preventDefault();var r=(e(this).attr("zone_id"),e("#wpvr_test_form")),o=e(this).attr("state");"off"==o?(e(".wpvr_video_cb",r).prop("checked",!0),e(".wpvr_video",r).addClass("checked"),e(".wpvr_test_form_toggleAll").attr("state","on")):(e(".wpvr_video_cb",r).prop("checked",!1),e(".wpvr_video",r).removeClass("checked"),e(".wpvr_test_form_toggleAll").attr("state","off")),wpvr_count_checked()})}),e("#wpvr_test_form_refresh").live("click",function(e){e.preventDefault(),window.location.reload()}),h(),e(".wpvrManualOptions .cmb_select").change(function(){h()}),e(".wpvr_toggle_grabbing_button").click(function(t){t.preventDefault();var r=e(this),o=r.attr("state");if("off"==o)var a="on";else var a="off";r.attr("state",a),e(".wpvrManualOptions .cmb_select").each(function(){e(this).attr("value",a)}),h()}),e(".wpvr_video").live("click",function(t){var r=e(".wpvr_video_cb",e(this)).prop("checked");r?(e(".wpvr_video_cb",e(this)).prop("checked",!1),e(this).removeClass("checked")):(e(".wpvr_video_cb",e(this)).prop("checked",!0),e(this).addClass("checked")),wpvr_count_checked()}),e(".wpvr_video_edit").live("click",function(t){return t.preventDefault(),window.open(e(this).attr("link"),"_blank"),!1}),e(".wpvr_video_merge").live("click",function(t){t.preventDefault();var r=e(this).attr("ids"),o=e(this).attr("views");return w("merge",r,o),!1}),e(".wpvr_video_view").live("click",function(t){t.preventDefault();var r=e(this).attr("url"),o=e(this).attr("service"),a=e(this).attr("video_id"),n=e(this).attr("post_id"),i=wpvr_show_loading({width:"60%",title:wpvr_localize.video_preview,text:'<div id="wpvr_video_preview"><i class="fa fa-cog fa-spin"></i></div>'});return e.ajax({type:"GET",data:{post_id:n,video_id:a,service:o},url:r+"?wpvr_wpload&get_video_preview",success:function(t){$data=wpvr_get_json(t),e("#wpvr_video_preview").html($data.data),e(".wpvr_loading_msg",i).center()},error:function(e,t,r){alert(r)}}),!1}),e(".wpvr_collapse_sections").click(function(t){t.preventDefault();var r=e(this),o=r.attr("zone_id"),a=r.attr("is_btn");if(r.toggleClass("open"),"all"==o){var n=e(".wpvr_source_result");r.hasClass("open")?(n.addClass("open"),e(".wpvr_collapse_sections",n).addClass("open")):(n.removeClass("open"),e(".wpvr_collapse_sections",n).removeClass("open"))}else{var n=e(".wpvr_source_result#"+o);n.toggleClass("open"),"0"==a&&e(".wpvr_collapse_sections",n).toggleClass("open")}}),e(".wpvr_helper_wrap").each(function(){var t=e(this),r=t.attr("service"),o=t.attr("helper_url"),a=e("#"+t.attr("helper_dest_id")),n=t.attr("helper_counter_id"),i=t.attr("helper_type"),l=t.attr("helper_append"),s=e(".wpvr_helper_button",t),_=e(".wpvr_helper_input",t),c=e(".wpvr_helper_toggler",t),p=e(".wpvr_helper_form",t);_.keypress(function(e){13==e.which&&(e.preventDefault(),s.trigger("click"))}),c.click(function(t){t.preventDefault(),e(this).toggleClass("closed"),p.toggle()}),s.click(function(t){t.preventDefault();var c=_.attr("value");if(""==c)return!1;var p=wpvr_add_loading_spinner(s);e.ajax({type:"POST",url:o,data:{helper_value:c,helper_type:i,service:r},success:function(t){wpvr_remove_loading_spinner(p);var r=wpvr_get_json(t),o=wpvr_show_loading({title:"Facebook ID Helper : "+i,text:wpvr_localize.loadingCenter,isModal:!1,cancelButton:'<i class="fa fa-times"></i> Close Helper'});o.doCancel(function(){o.doClose()}),1!=r.status&&(o.doText(r.msg),e(".wpvr_loading_msg",o).center());var s="";e.each(r.data,function(t,r){if(t%2==1)var i="odd";else var i="";s=s+'<div class="wpvr_helper_item '+i+'" ><div class="wpvr_helper_item_thumb pull-left"><img src="'+r.thumb+'" /></div><button class="wpvr_helper_choose" item_id="'+r.id+'" >Choose this '+r.label+'</button><div class="wpvr_helper_item_main"><div class="wpvr_helper_item_main_txt">'+r.name+'</div><br/></div><div class="wpvr_clearfix"></div></div>';var c='<div class="wpvr_helper_list">'+s+"</div>";o.doText(c),e(".wpvr_loading_msg",o).center(),e(".wpvr_helper_choose",o).click(function(t){var r=e(this).attr("item_id");console.log(l),1!=l?a.attr("value",r):g(a,r,n),_.attr("value",""),o.doClose()})})},error:function(e,t,r){alert(r)}})})})})});